2021-08-03 17:04:04.499 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.5.Final
2021-08-03 17:04:04.531 INFO  com.cq.wiki.config.WikiApplication                :55   [32m                  [0;39m Starting WikiApplication on LAPTOP-T0P8U4U3 with PID 9408 (D:\IdeaProjects\wiki\target\classes started by ç¨‹å´Ž in D:\IdeaProjects\wiki)
2021-08-03 17:04:04.531 INFO  com.cq.wiki.config.WikiApplication                :651  [32m                  [0;39m No active profile set, falling back to default profiles: default
2021-08-03 17:04:04.577 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :225  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-08-03 17:04:04.577 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :225  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-08-03 17:04:06.170 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 7770 (http)
2021-08-03 17:04:06.185 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-7770"]
2021-08-03 17:04:06.185 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2021-08-03 17:04:06.185 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.37]
2021-08-03 17:04:06.185 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m An older version [1.2.14] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.23]
2021-08-03 17:04:06.185 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m Loaded Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2021-08-03 17:04:06.185 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2021-08-03 17:04:06.185 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2021-08-03 17:04:07.224 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2021-08-03 17:04:07.318 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2021-08-03 17:04:07.318 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :285  [32m                  [0;39m Root WebApplicationContext: initialization completed in 2741 ms
2021-08-03 17:04:08.271 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2021-08-03 17:04:08.318 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2021-08-03 17:04:08.474 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2021-08-03 17:04:08.568 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-7770"]
2021-08-03 17:04:08.584 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 7770 (http) with context path ''
2021-08-03 17:04:08.834 INFO  com.cq.wiki.config.WikiApplication                :61   [32m                  [0;39m Started WikiApplication in 4.713 seconds (JVM running for 5.419)
2021-08-03 17:04:08.834 INFO  com.cq.wiki.config.WikiApplication                :26   [32m                  [0;39m å¯åŠ¨æˆåŠŸï¼ï¼
2021-08-03 17:04:08.834 INFO  com.cq.wiki.config.WikiApplication                :27   [32m                  [0;39m åœ°å€: 	http://127.0.0.1:7770
2021-08-03 17:04:36.581 INFO  org.apache.tomcat.util.http.parser.Cookie         :173  [32m                  [0;39m A cookie header was received [1621348084] that contained an invalid cookie. That cookie will be ignored.
 Note: further occurrences of this error will be logged at DEBUG level.
2021-08-03 17:04:36.586 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-08-03 17:04:36.586 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2021-08-03 17:04:36.597 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 11 ms
2021-08-03 17:05:09.587 INFO  com.cq.wiki.aspect.LogAspect                      :52   [32m77688197185933312 [0;39m ------------- å¼€å§‹ -------------
2021-08-03 17:05:09.588 INFO  com.cq.wiki.aspect.LogAspect                      :53   [32m77688197185933312 [0;39m è¯·æ±‚åœ°å€: http://localhost:7770/user/login POST
2021-08-03 17:05:09.588 INFO  com.cq.wiki.aspect.LogAspect                      :54   [32m77688197185933312 [0;39m ç±»åæ–¹æ³•: com.cq.wiki.controller.UserController.login
2021-08-03 17:05:09.588 INFO  com.cq.wiki.aspect.LogAspect                      :55   [32m77688197185933312 [0;39m è¿œç¨‹åœ°å€: 0:0:0:0:0:0:0:1
2021-08-03 17:05:09.636 INFO  com.cq.wiki.aspect.LogAspect                      :77   [32m77688197185933312 [0;39m è¯·æ±‚å‚æ•°: [{"loginName":"test"}]
2021-08-03 17:05:09.676 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m77688197185933312 [0;39m HikariPool-1 - Starting...
2021-08-03 17:05:09.928 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m77688197185933312 [0;39m HikariPool-1 - Start completed.
2021-08-03 17:05:09.935 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77688197185933312 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2021-08-03 17:05:09.952 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77688197185933312 [0;39m ==> Parameters: test(String)
2021-08-03 17:05:09.980 TRACE com.cq.wiki.mapper.UserMapper.selectByExample     :143  [32m77688197185933312 [0;39m <==    Columns: id, login_name, name, password
2021-08-03 17:05:09.980 TRACE com.cq.wiki.mapper.UserMapper.selectByExample     :143  [32m77688197185933312 [0;39m <==        Row: 1, test, æµ‹è¯•, e70e2222a9d67c4f2eae107533359aa4
2021-08-03 17:05:09.981 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77688197185933312 [0;39m <==      Total: 1
2021-08-03 17:05:09.987 INFO  com.cq.wiki.service.UserService                   :80   [32m77688197185933312 [0;39m å¯†ç é”™è¯¯ï¼Œè¾“å…¥å¯†ç ï¼š2f16723bc9cf569663857d3ae632136b,æ•°æ®åº“å¯†ç ï¼še70e2222a9d67c4f2eae107533359aa4
2021-08-03 17:05:09.989 WARN  com.cq.wiki.controller.ControllerExceptionHandler :44   [32m77688197185933312 [0;39m ä¸šåŠ¡å¼‚å¸¸ï¼šç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯
2021-08-03 17:05:09.991 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :199  [32m77688197185933312 [0;39m Resolved [com.cq.wiki.exception.BusinessException: ç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯]
2021-08-03 17:07:41.893 INFO  com.cq.wiki.aspect.LogAspect                      :52   [32m77688836007792640 [0;39m ------------- å¼€å§‹ -------------
2021-08-03 17:07:41.894 INFO  com.cq.wiki.aspect.LogAspect                      :53   [32m77688836007792640 [0;39m è¯·æ±‚åœ°å€: http://localhost:7770/user/login POST
2021-08-03 17:07:41.894 INFO  com.cq.wiki.aspect.LogAspect                      :54   [32m77688836007792640 [0;39m ç±»åæ–¹æ³•: com.cq.wiki.controller.UserController.login
2021-08-03 17:07:41.894 INFO  com.cq.wiki.aspect.LogAspect                      :55   [32m77688836007792640 [0;39m è¿œç¨‹åœ°å€: 0:0:0:0:0:0:0:1
2021-08-03 17:07:41.894 INFO  com.cq.wiki.aspect.LogAspect                      :77   [32m77688836007792640 [0;39m è¯·æ±‚å‚æ•°: [{"loginName":"test"}]
2021-08-03 17:07:41.904 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77688836007792640 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2021-08-03 17:07:41.905 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77688836007792640 [0;39m ==> Parameters: test(String)
2021-08-03 17:07:41.914 TRACE com.cq.wiki.mapper.UserMapper.selectByExample     :143  [32m77688836007792640 [0;39m <==    Columns: id, login_name, name, password
2021-08-03 17:07:41.914 TRACE com.cq.wiki.mapper.UserMapper.selectByExample     :143  [32m77688836007792640 [0;39m <==        Row: 1, test, æµ‹è¯•, e70e2222a9d67c4f2eae107533359aa4
2021-08-03 17:07:41.915 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77688836007792640 [0;39m <==      Total: 1
2021-08-03 17:07:41.915 INFO  com.cq.wiki.service.UserService                   :80   [32m77688836007792640 [0;39m å¯†ç é”™è¯¯ï¼Œè¾“å…¥å¯†ç ï¼šfb469d7ef430b0baf0cab6c436e70375,æ•°æ®åº“å¯†ç ï¼še70e2222a9d67c4f2eae107533359aa4
2021-08-03 17:07:41.915 WARN  com.cq.wiki.controller.ControllerExceptionHandler :44   [32m77688836007792640 [0;39m ä¸šåŠ¡å¼‚å¸¸ï¼šç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯
2021-08-03 17:07:41.916 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :199  [32m77688836007792640 [0;39m Resolved [com.cq.wiki.exception.BusinessException: ç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯]
2021-08-03 17:07:52.266 INFO  com.cq.wiki.aspect.LogAspect                      :52   [32m77688879515308032 [0;39m ------------- å¼€å§‹ -------------
2021-08-03 17:07:52.267 INFO  com.cq.wiki.aspect.LogAspect                      :53   [32m77688879515308032 [0;39m è¯·æ±‚åœ°å€: http://localhost:7770/user/login POST
2021-08-03 17:07:52.267 INFO  com.cq.wiki.aspect.LogAspect                      :54   [32m77688879515308032 [0;39m ç±»åæ–¹æ³•: com.cq.wiki.controller.UserController.login
2021-08-03 17:07:52.267 INFO  com.cq.wiki.aspect.LogAspect                      :55   [32m77688879515308032 [0;39m è¿œç¨‹åœ°å€: 0:0:0:0:0:0:0:1
2021-08-03 17:07:52.267 INFO  com.cq.wiki.aspect.LogAspect                      :77   [32m77688879515308032 [0;39m è¯·æ±‚å‚æ•°: [{"loginName":"test"}]
2021-08-03 17:07:52.299 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77688879515308032 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2021-08-03 17:07:52.300 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77688879515308032 [0;39m ==> Parameters: test(String)
2021-08-03 17:07:52.310 TRACE com.cq.wiki.mapper.UserMapper.selectByExample     :143  [32m77688879515308032 [0;39m <==    Columns: id, login_name, name, password
2021-08-03 17:07:52.311 TRACE com.cq.wiki.mapper.UserMapper.selectByExample     :143  [32m77688879515308032 [0;39m <==        Row: 1, test, æµ‹è¯•, e70e2222a9d67c4f2eae107533359aa4
2021-08-03 17:07:52.311 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77688879515308032 [0;39m <==      Total: 1
2021-08-03 17:07:52.312 INFO  com.cq.wiki.service.UserService                   :80   [32m77688879515308032 [0;39m å¯†ç é”™è¯¯ï¼Œè¾“å…¥å¯†ç ï¼ša7ed3f54705de99a47224703cb496585,æ•°æ®åº“å¯†ç ï¼še70e2222a9d67c4f2eae107533359aa4
2021-08-03 17:07:52.312 WARN  com.cq.wiki.controller.ControllerExceptionHandler :44   [32m77688879515308032 [0;39m ä¸šåŠ¡å¼‚å¸¸ï¼šç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯
2021-08-03 17:07:52.313 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :199  [32m77688879515308032 [0;39m Resolved [com.cq.wiki.exception.BusinessException: ç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯]
2021-08-03 17:08:06.381 INFO  com.cq.wiki.aspect.LogAspect                      :52   [32m77688938717908992 [0;39m ------------- å¼€å§‹ -------------
2021-08-03 17:08:06.382 INFO  com.cq.wiki.aspect.LogAspect                      :53   [32m77688938717908992 [0;39m è¯·æ±‚åœ°å€: http://localhost:7770/user/login POST
2021-08-03 17:08:06.382 INFO  com.cq.wiki.aspect.LogAspect                      :54   [32m77688938717908992 [0;39m ç±»åæ–¹æ³•: com.cq.wiki.controller.UserController.login
2021-08-03 17:08:06.382 INFO  com.cq.wiki.aspect.LogAspect                      :55   [32m77688938717908992 [0;39m è¿œç¨‹åœ°å€: 0:0:0:0:0:0:0:1
2021-08-03 17:08:06.382 INFO  com.cq.wiki.aspect.LogAspect                      :77   [32m77688938717908992 [0;39m è¯·æ±‚å‚æ•°: [{"loginName":"test"}]
2021-08-03 17:08:06.391 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77688938717908992 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2021-08-03 17:08:06.392 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77688938717908992 [0;39m ==> Parameters: test(String)
2021-08-03 17:08:06.400 TRACE com.cq.wiki.mapper.UserMapper.selectByExample     :143  [32m77688938717908992 [0;39m <==    Columns: id, login_name, name, password
2021-08-03 17:08:06.401 TRACE com.cq.wiki.mapper.UserMapper.selectByExample     :143  [32m77688938717908992 [0;39m <==        Row: 1, test, æµ‹è¯•, e70e2222a9d67c4f2eae107533359aa4
2021-08-03 17:08:06.401 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77688938717908992 [0;39m <==      Total: 1
2021-08-03 17:08:06.402 INFO  com.cq.wiki.service.UserService                   :80   [32m77688938717908992 [0;39m å¯†ç é”™è¯¯ï¼Œè¾“å…¥å¯†ç ï¼š1cca91b3b9fc3217461c178987c196c6,æ•°æ®åº“å¯†ç ï¼še70e2222a9d67c4f2eae107533359aa4
2021-08-03 17:08:06.402 WARN  com.cq.wiki.controller.ControllerExceptionHandler :44   [32m77688938717908992 [0;39m ä¸šåŠ¡å¼‚å¸¸ï¼šç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯
2021-08-03 17:08:06.403 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :199  [32m77688938717908992 [0;39m Resolved [com.cq.wiki.exception.BusinessException: ç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯]
2021-08-03 17:08:18.606 INFO  com.cq.wiki.aspect.LogAspect                      :52   [32m77688989993275392 [0;39m ------------- å¼€å§‹ -------------
2021-08-03 17:08:18.606 INFO  com.cq.wiki.aspect.LogAspect                      :53   [32m77688989993275392 [0;39m è¯·æ±‚åœ°å€: http://localhost:7770/user/login POST
2021-08-03 17:08:18.606 INFO  com.cq.wiki.aspect.LogAspect                      :54   [32m77688989993275392 [0;39m ç±»åæ–¹æ³•: com.cq.wiki.controller.UserController.login
2021-08-03 17:08:18.606 INFO  com.cq.wiki.aspect.LogAspect                      :55   [32m77688989993275392 [0;39m è¿œç¨‹åœ°å€: 0:0:0:0:0:0:0:1
2021-08-03 17:08:18.607 INFO  com.cq.wiki.aspect.LogAspect                      :77   [32m77688989993275392 [0;39m è¯·æ±‚å‚æ•°: [{"loginName":"test"}]
2021-08-03 17:08:18.615 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77688989993275392 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2021-08-03 17:08:18.616 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77688989993275392 [0;39m ==> Parameters: test(String)
2021-08-03 17:08:18.626 TRACE com.cq.wiki.mapper.UserMapper.selectByExample     :143  [32m77688989993275392 [0;39m <==    Columns: id, login_name, name, password
2021-08-03 17:08:18.627 TRACE com.cq.wiki.mapper.UserMapper.selectByExample     :143  [32m77688989993275392 [0;39m <==        Row: 1, test, æµ‹è¯•, e70e2222a9d67c4f2eae107533359aa4
2021-08-03 17:08:18.628 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77688989993275392 [0;39m <==      Total: 1
2021-08-03 17:08:18.629 INFO  com.cq.wiki.service.UserService                   :80   [32m77688989993275392 [0;39m å¯†ç é”™è¯¯ï¼Œè¾“å…¥å¯†ç ï¼š3a251a4fb000208b8ae278822d2e2313,æ•°æ®åº“å¯†ç ï¼še70e2222a9d67c4f2eae107533359aa4
2021-08-03 17:08:18.629 WARN  com.cq.wiki.controller.ControllerExceptionHandler :44   [32m77688989993275392 [0;39m ä¸šåŠ¡å¼‚å¸¸ï¼šç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯
2021-08-03 17:08:18.630 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :199  [32m77688989993275392 [0;39m Resolved [com.cq.wiki.exception.BusinessException: ç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯]
2021-08-03 17:08:37.764 INFO  com.cq.wiki.aspect.LogAspect                      :52   [32m77689070343557120 [0;39m ------------- å¼€å§‹ -------------
2021-08-03 17:08:37.764 INFO  com.cq.wiki.aspect.LogAspect                      :53   [32m77689070343557120 [0;39m è¯·æ±‚åœ°å€: http://localhost:7770/user/login POST
2021-08-03 17:08:37.764 INFO  com.cq.wiki.aspect.LogAspect                      :54   [32m77689070343557120 [0;39m ç±»åæ–¹æ³•: com.cq.wiki.controller.UserController.login
2021-08-03 17:08:37.764 INFO  com.cq.wiki.aspect.LogAspect                      :55   [32m77689070343557120 [0;39m è¿œç¨‹åœ°å€: 0:0:0:0:0:0:0:1
2021-08-03 17:08:37.764 INFO  com.cq.wiki.aspect.LogAspect                      :77   [32m77689070343557120 [0;39m è¯·æ±‚å‚æ•°: [{"loginName":"test"}]
2021-08-03 17:08:37.774 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77689070343557120 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2021-08-03 17:08:37.776 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77689070343557120 [0;39m ==> Parameters: test(String)
2021-08-03 17:08:37.785 TRACE com.cq.wiki.mapper.UserMapper.selectByExample     :143  [32m77689070343557120 [0;39m <==    Columns: id, login_name, name, password
2021-08-03 17:08:37.786 TRACE com.cq.wiki.mapper.UserMapper.selectByExample     :143  [32m77689070343557120 [0;39m <==        Row: 1, test, æµ‹è¯•, e70e2222a9d67c4f2eae107533359aa4
2021-08-03 17:08:37.787 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77689070343557120 [0;39m <==      Total: 1
2021-08-03 17:08:37.787 INFO  com.cq.wiki.service.UserService                   :80   [32m77689070343557120 [0;39m å¯†ç é”™è¯¯ï¼Œè¾“å…¥å¯†ç ï¼š098f6bcd4621d373cade4e832627b4f6,æ•°æ®åº“å¯†ç ï¼še70e2222a9d67c4f2eae107533359aa4
2021-08-03 17:08:37.787 WARN  com.cq.wiki.controller.ControllerExceptionHandler :44   [32m77689070343557120 [0;39m ä¸šåŠ¡å¼‚å¸¸ï¼šç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯
2021-08-03 17:08:37.788 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :199  [32m77689070343557120 [0;39m Resolved [com.cq.wiki.exception.BusinessException: ç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯]
2021-08-03 17:09:11.043 INFO  com.cq.wiki.aspect.LogAspect                      :52   [32m77689209929994240 [0;39m ------------- å¼€å§‹ -------------
2021-08-03 17:09:11.043 INFO  com.cq.wiki.aspect.LogAspect                      :53   [32m77689209929994240 [0;39m è¯·æ±‚åœ°å€: http://localhost:7770/user/login POST
2021-08-03 17:09:11.044 INFO  com.cq.wiki.aspect.LogAspect                      :54   [32m77689209929994240 [0;39m ç±»åæ–¹æ³•: com.cq.wiki.controller.UserController.login
2021-08-03 17:09:11.044 INFO  com.cq.wiki.aspect.LogAspect                      :55   [32m77689209929994240 [0;39m è¿œç¨‹åœ°å€: 0:0:0:0:0:0:0:1
2021-08-03 17:09:11.044 INFO  com.cq.wiki.aspect.LogAspect                      :77   [32m77689209929994240 [0;39m è¯·æ±‚å‚æ•°: [{"loginName":"test"}]
2021-08-03 17:09:11.054 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77689209929994240 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2021-08-03 17:09:11.055 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77689209929994240 [0;39m ==> Parameters: test(String)
2021-08-03 17:09:11.064 TRACE com.cq.wiki.mapper.UserMapper.selectByExample     :143  [32m77689209929994240 [0;39m <==    Columns: id, login_name, name, password
2021-08-03 17:09:11.065 TRACE com.cq.wiki.mapper.UserMapper.selectByExample     :143  [32m77689209929994240 [0;39m <==        Row: 1, test, æµ‹è¯•, e70e2222a9d67c4f2eae107533359aa4
2021-08-03 17:09:11.065 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77689209929994240 [0;39m <==      Total: 1
2021-08-03 17:09:11.065 INFO  com.cq.wiki.service.UserService                   :80   [32m77689209929994240 [0;39m å¯†ç é”™è¯¯ï¼Œè¾“å…¥å¯†ç ï¼š2f16723bc9cf569663857d3ae632136b,æ•°æ®åº“å¯†ç ï¼še70e2222a9d67c4f2eae107533359aa4
2021-08-03 17:09:11.066 WARN  com.cq.wiki.controller.ControllerExceptionHandler :44   [32m77689209929994240 [0;39m ä¸šåŠ¡å¼‚å¸¸ï¼šç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯
2021-08-03 17:09:11.066 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :199  [32m77689209929994240 [0;39m Resolved [com.cq.wiki.exception.BusinessException: ç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯]
2021-08-03 17:10:19.271 INFO  com.cq.wiki.aspect.LogAspect                      :52   [32m77689496098967552 [0;39m ------------- å¼€å§‹ -------------
2021-08-03 17:10:19.272 INFO  com.cq.wiki.aspect.LogAspect                      :53   [32m77689496098967552 [0;39m è¯·æ±‚åœ°å€: http://localhost:7770/user/login POST
2021-08-03 17:10:19.272 INFO  com.cq.wiki.aspect.LogAspect                      :54   [32m77689496098967552 [0;39m ç±»åæ–¹æ³•: com.cq.wiki.controller.UserController.login
2021-08-03 17:10:19.272 INFO  com.cq.wiki.aspect.LogAspect                      :55   [32m77689496098967552 [0;39m è¿œç¨‹åœ°å€: 0:0:0:0:0:0:0:1
2021-08-03 17:10:19.272 INFO  com.cq.wiki.aspect.LogAspect                      :77   [32m77689496098967552 [0;39m è¯·æ±‚å‚æ•°: [{"loginName":"test"}]
2021-08-03 17:10:19.301 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77689496098967552 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2021-08-03 17:10:19.302 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77689496098967552 [0;39m ==> Parameters: test(String)
2021-08-03 17:10:19.311 TRACE com.cq.wiki.mapper.UserMapper.selectByExample     :143  [32m77689496098967552 [0;39m <==    Columns: id, login_name, name, password
2021-08-03 17:10:19.311 TRACE com.cq.wiki.mapper.UserMapper.selectByExample     :143  [32m77689496098967552 [0;39m <==        Row: 1, test, æµ‹è¯•, e70e2222a9d67c4f2eae107533359aa4
2021-08-03 17:10:19.312 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77689496098967552 [0;39m <==      Total: 1
2021-08-03 17:10:19.313 INFO  com.cq.wiki.service.UserService                   :80   [32m77689496098967552 [0;39m å¯†ç é”™è¯¯ï¼Œè¾“å…¥å¯†ç ï¼š3a251a4fb000208b8ae278822d2e2313,æ•°æ®åº“å¯†ç ï¼še70e2222a9d67c4f2eae107533359aa4
2021-08-03 17:10:19.313 WARN  com.cq.wiki.controller.ControllerExceptionHandler :44   [32m77689496098967552 [0;39m ä¸šåŠ¡å¼‚å¸¸ï¼šç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯
2021-08-03 17:10:19.314 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :199  [32m77689496098967552 [0;39m Resolved [com.cq.wiki.exception.BusinessException: ç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯]
2021-08-03 17:11:12.048 INFO  com.cq.wiki.aspect.LogAspect                      :52   [32m77689717461749760 [0;39m ------------- å¼€å§‹ -------------
2021-08-03 17:11:12.049 INFO  com.cq.wiki.aspect.LogAspect                      :53   [32m77689717461749760 [0;39m è¯·æ±‚åœ°å€: http://localhost:7770/user/login POST
2021-08-03 17:11:12.049 INFO  com.cq.wiki.aspect.LogAspect                      :54   [32m77689717461749760 [0;39m ç±»åæ–¹æ³•: com.cq.wiki.controller.UserController.login
2021-08-03 17:11:12.049 INFO  com.cq.wiki.aspect.LogAspect                      :55   [32m77689717461749760 [0;39m è¿œç¨‹åœ°å€: 0:0:0:0:0:0:0:1
2021-08-03 17:11:12.049 INFO  com.cq.wiki.aspect.LogAspect                      :77   [32m77689717461749760 [0;39m è¯·æ±‚å‚æ•°: [{"loginName":"test"}]
2021-08-03 17:11:12.059 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77689717461749760 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2021-08-03 17:11:12.060 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77689717461749760 [0;39m ==> Parameters: test(String)
2021-08-03 17:11:12.069 TRACE com.cq.wiki.mapper.UserMapper.selectByExample     :143  [32m77689717461749760 [0;39m <==    Columns: id, login_name, name, password
2021-08-03 17:11:12.070 TRACE com.cq.wiki.mapper.UserMapper.selectByExample     :143  [32m77689717461749760 [0;39m <==        Row: 1, test, æµ‹è¯•, e70e2222a9d67c4f2eae107533359aa4
2021-08-03 17:11:12.070 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77689717461749760 [0;39m <==      Total: 1
2021-08-03 17:11:12.075 INFO  com.cq.wiki.util.TokenUtil                        :24   [32m77689717461749760 [0;39m å½“å‰æ—¶é—´çš„æ—¶é—´æˆ³1627981872075
2021-08-03 17:11:12.076 INFO  com.cq.wiki.util.TokenUtil                        :27   [32m77689717461749760 [0;39m è¿‡æœŸæ—¶é—´æˆ³ä¸ºï¼š1628068272075
2021-08-03 17:11:12.254 DEBUG com.cq.wiki.mapper.TokenMapper.insert             :137  [32m77689717461749760 [0;39m ==>  Preparing: insert into token (id, token) values (?, ?)
2021-08-03 17:11:12.254 DEBUG com.cq.wiki.mapper.TokenMapper.insert             :137  [32m77689717461749760 [0;39m ==> Parameters: 77689718321582080(Long), eyJhbGciOiJIUzI1NiJ9.eyJsb2dpbk5hbWUiOiJ0ZXN0IiwibmFtZSI6Iua1i-ivlSIsImlkIjoxLCJleHAiOjE2MjgwNjgyNzIsImlhdCI6MTYyNzk4MTg3Mn0.rarRR3tjTLFNaczghmcPrKvesDmRIif5P9Jan1QBieo(String)
2021-08-03 17:11:12.273 DEBUG com.cq.wiki.mapper.TokenMapper.insert             :137  [32m77689717461749760 [0;39m <==    Updates: 1
2021-08-03 17:11:12.274 INFO  com.cq.wiki.service.UserService                   :73   [32m77689717461749760 [0;39m tokenä¸ºï¼šeyJhbGciOiJIUzI1NiJ9.eyJsb2dpbk5hbWUiOiJ0ZXN0IiwibmFtZSI6Iua1i-ivlSIsImlkIjoxLCJleHAiOjE2MjgwNjgyNzIsImlhdCI6MTYyNzk4MTg3Mn0.rarRR3tjTLFNaczghmcPrKvesDmRIif5P9Jan1QBieo
2021-08-03 17:11:12.275 INFO  com.cq.wiki.service.UserService                   :195  [32m77689718413856768 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2021-08-03 17:11:12.278 DEBUG com.cq.wiki.mapper.DocMapperCust.updateEbookInfo  :137  [32m77689718413856768 [0;39m ==>  Preparing: update ebook t1,(select ebook_id, count(1) doc_count , sum(view_count) view_count,sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count , t1.view_count = t2.view_count , t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2021-08-03 17:11:12.278 DEBUG com.cq.wiki.mapper.DocMapperCust.updateEbookInfo  :137  [32m77689718413856768 [0;39m ==> Parameters: 
2021-08-03 17:11:12.295 DEBUG com.cq.wiki.mapper.DocMapperCust.updateEbookInfo  :137  [32m77689718413856768 [0;39m <==    Updates: 1
2021-08-03 17:11:12.295 INFO  com.cq.wiki.service.UserService                   :198  [32m77689718413856768 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š20æ¯«ç§’
2021-08-03 17:11:12.296 INFO  com.cq.wiki.service.UserService                   :204  [32m77689718497742848 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2021-08-03 17:11:12.296 DEBUG c.c.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m77689718497742848 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2021-08-03 17:11:12.297 DEBUG c.c.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m77689718497742848 [0;39m ==> Parameters: 
2021-08-03 17:11:12.360 ERROR com.cq.wiki.controller.ControllerExceptionHandler :59   [32m77689718497742848 [0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
### The error may exist in file [D:\IdeaProjects\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
; Column 'view_count' cannot be null; nested exception is java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:87)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:72)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:81)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:91)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:441)
	at com.sun.proxy.$Proxy89.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:288)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy103.genSnapshot(Unknown Source)
	at com.cq.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.cq.wiki.service.UserService.doSnapshot(UserService.java:206)
	at com.cq.wiki.service.UserService.login(UserService.java:75)
	at com.cq.wiki.controller.UserController.login(UserController.java:62)
	at com.cq.wiki.controller.UserController$$FastClassBySpringCGLIB$$8a2de20e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
	at com.cq.wiki.aspect.LogAspect.doAround(LogAspect.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.cq.wiki.controller.UserController$$EnhancerBySpringCGLIB$$5aaf6476.login(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy155.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy153.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	... 84 common frames omitted
2021-08-03 17:11:12.363 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :199  [32m77689718497742848 [0;39m Resolved [org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
### The error may exist in file [D:\IdeaProjects\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
; Column 'view_count' cannot be null; nested exception is java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null]
2021-08-03 17:12:04.500 INFO  com.cq.wiki.aspect.LogAspect                      :52   [32m77689937461383168 [0;39m ------------- å¼€å§‹ -------------
2021-08-03 17:12:04.500 INFO  com.cq.wiki.aspect.LogAspect                      :53   [32m77689937461383168 [0;39m è¯·æ±‚åœ°å€: http://localhost:7770/user/login POST
2021-08-03 17:12:04.501 INFO  com.cq.wiki.aspect.LogAspect                      :54   [32m77689937461383168 [0;39m ç±»åæ–¹æ³•: com.cq.wiki.controller.UserController.login
2021-08-03 17:12:04.501 INFO  com.cq.wiki.aspect.LogAspect                      :55   [32m77689937461383168 [0;39m è¿œç¨‹åœ°å€: 0:0:0:0:0:0:0:1
2021-08-03 17:12:04.501 INFO  com.cq.wiki.aspect.LogAspect                      :77   [32m77689937461383168 [0;39m è¯·æ±‚å‚æ•°: [{"loginName":"test"}]
2021-08-03 17:12:04.511 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77689937461383168 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2021-08-03 17:12:04.512 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77689937461383168 [0;39m ==> Parameters: test(String)
2021-08-03 17:12:04.529 TRACE com.cq.wiki.mapper.UserMapper.selectByExample     :143  [32m77689937461383168 [0;39m <==    Columns: id, login_name, name, password
2021-08-03 17:12:04.530 TRACE com.cq.wiki.mapper.UserMapper.selectByExample     :143  [32m77689937461383168 [0;39m <==        Row: 1, test, æµ‹è¯•, e70e2222a9d67c4f2eae107533359aa4
2021-08-03 17:12:04.530 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77689937461383168 [0;39m <==      Total: 1
2021-08-03 17:12:04.531 INFO  com.cq.wiki.util.TokenUtil                        :24   [32m77689937461383168 [0;39m å½“å‰æ—¶é—´çš„æ—¶é—´æˆ³1627981924531
2021-08-03 17:12:04.531 INFO  com.cq.wiki.util.TokenUtil                        :27   [32m77689937461383168 [0;39m è¿‡æœŸæ—¶é—´æˆ³ä¸ºï¼š1628068324531
2021-08-03 17:12:04.532 DEBUG com.cq.wiki.mapper.TokenMapper.insert             :137  [32m77689937461383168 [0;39m ==>  Preparing: insert into token (id, token) values (?, ?)
2021-08-03 17:12:04.533 DEBUG com.cq.wiki.mapper.TokenMapper.insert             :137  [32m77689937461383168 [0;39m ==> Parameters: 77689937595600896(Long), eyJhbGciOiJIUzI1NiJ9.eyJsb2dpbk5hbWUiOiJ0ZXN0IiwibmFtZSI6Iua1i-ivlSIsImlkIjoxLCJleHAiOjE2MjgwNjgzMjQsImlhdCI6MTYyNzk4MTkyNH0.8ctGoEWBgbVqNsGTKdeiop3LupJcyksg8ACAIAZHWrM(String)
2021-08-03 17:12:04.550 DEBUG com.cq.wiki.mapper.TokenMapper.insert             :137  [32m77689937461383168 [0;39m <==    Updates: 1
2021-08-03 17:12:04.551 INFO  com.cq.wiki.service.UserService                   :73   [32m77689937461383168 [0;39m tokenä¸ºï¼šeyJhbGciOiJIUzI1NiJ9.eyJsb2dpbk5hbWUiOiJ0ZXN0IiwibmFtZSI6Iua1i-ivlSIsImlkIjoxLCJleHAiOjE2MjgwNjgzMjQsImlhdCI6MTYyNzk4MTkyNH0.8ctGoEWBgbVqNsGTKdeiop3LupJcyksg8ACAIAZHWrM
2021-08-03 17:12:04.551 INFO  com.cq.wiki.service.UserService                   :195  [32m77689937675292672 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2021-08-03 17:12:04.552 DEBUG com.cq.wiki.mapper.DocMapperCust.updateEbookInfo  :137  [32m77689937675292672 [0;39m ==>  Preparing: update ebook t1,(select ebook_id, count(1) doc_count , sum(view_count) view_count,sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count , t1.view_count = t2.view_count , t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2021-08-03 17:12:04.553 DEBUG com.cq.wiki.mapper.DocMapperCust.updateEbookInfo  :137  [32m77689937675292672 [0;39m ==> Parameters: 
2021-08-03 17:12:04.570 DEBUG com.cq.wiki.mapper.DocMapperCust.updateEbookInfo  :137  [32m77689937675292672 [0;39m <==    Updates: 1
2021-08-03 17:12:04.570 INFO  com.cq.wiki.service.UserService                   :198  [32m77689937675292672 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š18æ¯«ç§’
2021-08-03 17:12:04.570 INFO  com.cq.wiki.service.UserService                   :204  [32m77689937754984448 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2021-08-03 17:12:04.571 DEBUG c.c.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m77689937754984448 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2021-08-03 17:12:04.572 DEBUG c.c.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m77689937754984448 [0;39m ==> Parameters: 
2021-08-03 17:12:04.593 ERROR com.cq.wiki.controller.ControllerExceptionHandler :59   [32m77689937754984448 [0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
### The error may exist in file [D:\IdeaProjects\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
; Column 'view_count' cannot be null; nested exception is java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:87)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:72)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:81)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:91)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:441)
	at com.sun.proxy.$Proxy89.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:288)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy103.genSnapshot(Unknown Source)
	at com.cq.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.cq.wiki.service.UserService.doSnapshot(UserService.java:206)
	at com.cq.wiki.service.UserService.login(UserService.java:75)
	at com.cq.wiki.controller.UserController.login(UserController.java:62)
	at com.cq.wiki.controller.UserController$$FastClassBySpringCGLIB$$8a2de20e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
	at com.cq.wiki.aspect.LogAspect.doAround(LogAspect.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.cq.wiki.controller.UserController$$EnhancerBySpringCGLIB$$5aaf6476.login(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy155.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy153.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	... 84 common frames omitted
2021-08-03 17:12:04.595 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :199  [32m77689937754984448 [0;39m Resolved [org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
### The error may exist in file [D:\IdeaProjects\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
; Column 'view_count' cannot be null; nested exception is java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null]
2021-08-03 17:13:35.923 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2021-08-03 17:13:35.923 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2021-08-03 17:13:35.923 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2021-08-03 17:13:35.938 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2021-08-03 17:13:36.079 INFO  com.cq.wiki.config.WikiApplication                :55   [32m                  [0;39m Starting WikiApplication on LAPTOP-T0P8U4U3 with PID 9408 (D:\IdeaProjects\wiki\target\classes started by ç¨‹å´Ž in D:\IdeaProjects\wiki)
2021-08-03 17:13:36.079 INFO  com.cq.wiki.config.WikiApplication                :651  [32m                  [0;39m No active profile set, falling back to default profiles: default
2021-08-03 17:13:36.451 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 7770 (http)
2021-08-03 17:13:36.466 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-7770"]
2021-08-03 17:13:36.466 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2021-08-03 17:13:36.466 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.37]
2021-08-03 17:13:36.466 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m An older version [1.2.14] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.23]
2021-08-03 17:13:36.466 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m Loaded Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2021-08-03 17:13:36.466 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2021-08-03 17:13:36.466 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2021-08-03 17:13:36.466 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2021-08-03 17:13:36.466 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2021-08-03 17:13:36.466 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :285  [32m                  [0;39m Root WebApplicationContext: initialization completed in 387 ms
2021-08-03 17:13:36.948 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2021-08-03 17:13:36.979 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2021-08-03 17:13:37.058 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2021-08-03 17:13:37.104 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-7770"]
2021-08-03 17:13:37.120 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 7770 (http) with context path ''
2021-08-03 17:13:37.198 INFO  com.cq.wiki.config.WikiApplication                :61   [32m                  [0;39m Started WikiApplication in 1.141 seconds (JVM running for 573.78)
2021-08-03 17:13:37.198 INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener :63   [32m                  [0;39m Condition evaluation unchanged
2021-08-03 17:13:37.198 INFO  com.cq.wiki.config.WikiApplication                :26   [32m                  [0;39m å¯åŠ¨æˆåŠŸï¼ï¼
2021-08-03 17:13:37.198 INFO  com.cq.wiki.config.WikiApplication                :27   [32m                  [0;39m åœ°å€: 	http://127.0.0.1:7770
2021-08-03 17:13:40.244 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-08-03 17:13:40.245 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2021-08-03 17:13:40.250 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 5 ms
2021-08-03 17:13:40.253 INFO  com.cq.wiki.aspect.LogAspect                      :52   [32m77690339078574080 [0;39m ------------- å¼€å§‹ -------------
2021-08-03 17:13:40.253 INFO  com.cq.wiki.aspect.LogAspect                      :53   [32m77690339078574080 [0;39m è¯·æ±‚åœ°å€: http://localhost:7770/user/login POST
2021-08-03 17:13:40.253 INFO  com.cq.wiki.aspect.LogAspect                      :54   [32m77690339078574080 [0;39m ç±»åæ–¹æ³•: com.cq.wiki.controller.UserController.login
2021-08-03 17:13:40.254 INFO  com.cq.wiki.aspect.LogAspect                      :55   [32m77690339078574080 [0;39m è¿œç¨‹åœ°å€: 0:0:0:0:0:0:0:1
2021-08-03 17:13:40.255 INFO  com.cq.wiki.aspect.LogAspect                      :77   [32m77690339078574080 [0;39m è¯·æ±‚å‚æ•°: [{"loginName":"test"}]
2021-08-03 17:13:40.260 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m77690339078574080 [0;39m HikariPool-2 - Starting...
2021-08-03 17:13:40.425 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m77690339078574080 [0;39m HikariPool-2 - Start completed.
2021-08-03 17:13:40.425 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77690339078574080 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2021-08-03 17:13:40.426 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77690339078574080 [0;39m ==> Parameters: test(String)
2021-08-03 17:13:40.439 TRACE com.cq.wiki.mapper.UserMapper.selectByExample     :143  [32m77690339078574080 [0;39m <==    Columns: id, login_name, name, password
2021-08-03 17:13:40.440 TRACE com.cq.wiki.mapper.UserMapper.selectByExample     :143  [32m77690339078574080 [0;39m <==        Row: 1, test, æµ‹è¯•, e70e2222a9d67c4f2eae107533359aa4
2021-08-03 17:13:40.440 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77690339078574080 [0;39m <==      Total: 1
2021-08-03 17:13:40.445 INFO  com.cq.wiki.util.TokenUtil                        :24   [32m77690339078574080 [0;39m å½“å‰æ—¶é—´çš„æ—¶é—´æˆ³1627982020445
2021-08-03 17:13:40.445 INFO  com.cq.wiki.util.TokenUtil                        :27   [32m77690339078574080 [0;39m è¿‡æœŸæ—¶é—´æˆ³ä¸ºï¼š1628068420445
2021-08-03 17:13:40.446 DEBUG com.cq.wiki.mapper.TokenMapper.insert             :137  [32m77690339078574080 [0;39m ==>  Preparing: insert into token (id, token) values (?, ?)
2021-08-03 17:13:40.447 DEBUG com.cq.wiki.mapper.TokenMapper.insert             :137  [32m77690339078574080 [0;39m ==> Parameters: 77690339888074752(Long), eyJhbGciOiJIUzI1NiJ9.eyJsb2dpbk5hbWUiOiJ0ZXN0IiwibmFtZSI6Iua1i-ivlSIsImlkIjoxLCJleHAiOjE2MjgwNjg0MjAsImlhdCI6MTYyNzk4MjAyMH0.8IHp68GNWdjDmhKYtv6V6HT2N2peu2QTagwD0Ikntm0(String)
2021-08-03 17:13:40.480 DEBUG com.cq.wiki.mapper.TokenMapper.insert             :137  [32m77690339078574080 [0;39m <==    Updates: 1
2021-08-03 17:13:40.480 INFO  com.cq.wiki.service.UserService                   :72   [32m77690339078574080 [0;39m tokenä¸ºï¼šeyJhbGciOiJIUzI1NiJ9.eyJsb2dpbk5hbWUiOiJ0ZXN0IiwibmFtZSI6Iua1i-ivlSIsImlkIjoxLCJleHAiOjE2MjgwNjg0MjAsImlhdCI6MTYyNzk4MjAyMH0.8IHp68GNWdjDmhKYtv6V6HT2N2peu2QTagwD0Ikntm0
2021-08-03 17:13:40.482 DEBUG com.cq.wiki.mapper.DocMapperCust.updateEbookInfo  :137  [32m77690339078574080 [0;39m ==>  Preparing: update ebook t1,(select ebook_id, count(1) doc_count , sum(view_count) view_count,sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count , t1.view_count = t2.view_count , t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2021-08-03 17:13:40.483 DEBUG com.cq.wiki.mapper.DocMapperCust.updateEbookInfo  :137  [32m77690339078574080 [0;39m ==> Parameters: 
2021-08-03 17:13:40.511 DEBUG com.cq.wiki.mapper.DocMapperCust.updateEbookInfo  :137  [32m77690339078574080 [0;39m <==    Updates: 1
2021-08-03 17:13:40.512 DEBUG c.c.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m77690339078574080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2021-08-03 17:13:40.512 DEBUG c.c.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m77690339078574080 [0;39m ==> Parameters: 
2021-08-03 17:13:40.540 ERROR com.cq.wiki.controller.ControllerExceptionHandler :59   [32m77690339078574080 [0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
### The error may exist in file [D:\IdeaProjects\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
; Column 'view_count' cannot be null; nested exception is java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:87)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:72)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:81)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:91)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:441)
	at com.sun.proxy.$Proxy89.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:288)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy165.genSnapshot(Unknown Source)
	at com.cq.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.cq.wiki.service.UserService.login(UserService.java:74)
	at com.cq.wiki.controller.UserController.login(UserController.java:62)
	at com.cq.wiki.controller.UserController$$FastClassBySpringCGLIB$$8a2de20e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
	at com.cq.wiki.aspect.LogAspect.doAround(LogAspect.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.cq.wiki.controller.UserController$$EnhancerBySpringCGLIB$$5aaf6476.login(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.GeneratedMethodAccessor146.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy155.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy153.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	... 83 common frames omitted
2021-08-03 17:13:40.543 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :199  [32m77690339078574080 [0;39m Resolved [org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
### The error may exist in file [D:\IdeaProjects\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
; Column 'view_count' cannot be null; nested exception is java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null]
2021-08-03 17:16:51.311 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2021-08-03 17:16:51.311 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2021-08-03 17:16:51.311 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-2 - Shutdown initiated...
2021-08-03 17:16:51.311 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-2 - Shutdown completed.
2021-08-03 17:16:51.467 INFO  com.cq.wiki.config.WikiApplication                :55   [32m                  [0;39m Starting WikiApplication on LAPTOP-T0P8U4U3 with PID 9408 (D:\IdeaProjects\wiki\target\classes started by ç¨‹å´Ž in D:\IdeaProjects\wiki)
2021-08-03 17:16:51.467 INFO  com.cq.wiki.config.WikiApplication                :651  [32m                  [0;39m No active profile set, falling back to default profiles: default
2021-08-03 17:16:51.779 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 7770 (http)
2021-08-03 17:16:51.779 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-7770"]
2021-08-03 17:16:51.779 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2021-08-03 17:16:51.779 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.37]
2021-08-03 17:16:51.779 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m An older version [1.2.14] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.23]
2021-08-03 17:16:51.779 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m Loaded Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2021-08-03 17:16:51.779 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2021-08-03 17:16:51.779 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2021-08-03 17:16:51.779 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2021-08-03 17:16:51.795 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2021-08-03 17:16:51.795 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :285  [32m                  [0;39m Root WebApplicationContext: initialization completed in 328 ms
2021-08-03 17:16:52.184 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2021-08-03 17:16:52.215 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2021-08-03 17:16:52.293 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2021-08-03 17:16:52.340 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-7770"]
2021-08-03 17:16:52.355 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 7770 (http) with context path ''
2021-08-03 17:16:52.418 INFO  com.cq.wiki.config.WikiApplication                :61   [32m                  [0;39m Started WikiApplication in 0.984 seconds (JVM running for 769.001)
2021-08-03 17:16:52.418 INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener :63   [32m                  [0;39m Condition evaluation unchanged
2021-08-03 17:16:52.418 INFO  com.cq.wiki.config.WikiApplication                :26   [32m                  [0;39m å¯åŠ¨æˆåŠŸï¼ï¼
2021-08-03 17:16:52.418 INFO  com.cq.wiki.config.WikiApplication                :27   [32m                  [0;39m åœ°å€: 	http://127.0.0.1:7770
2021-08-03 17:16:57.554 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-08-03 17:16:57.555 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2021-08-03 17:16:57.561 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 6 ms
2021-08-03 17:16:57.564 INFO  com.cq.wiki.aspect.LogAspect                      :52   [32m77691166656696320 [0;39m ------------- å¼€å§‹ -------------
2021-08-03 17:16:57.564 INFO  com.cq.wiki.aspect.LogAspect                      :53   [32m77691166656696320 [0;39m è¯·æ±‚åœ°å€: http://localhost:7770/user/login POST
2021-08-03 17:16:57.564 INFO  com.cq.wiki.aspect.LogAspect                      :54   [32m77691166656696320 [0;39m ç±»åæ–¹æ³•: com.cq.wiki.controller.UserController.login
2021-08-03 17:16:57.564 INFO  com.cq.wiki.aspect.LogAspect                      :55   [32m77691166656696320 [0;39m è¿œç¨‹åœ°å€: 0:0:0:0:0:0:0:1
2021-08-03 17:16:57.565 INFO  com.cq.wiki.aspect.LogAspect                      :77   [32m77691166656696320 [0;39m è¯·æ±‚å‚æ•°: [{"loginName":"test"}]
2021-08-03 17:16:57.570 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m77691166656696320 [0;39m HikariPool-3 - Starting...
2021-08-03 17:16:57.741 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m77691166656696320 [0;39m HikariPool-3 - Start completed.
2021-08-03 17:16:57.741 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77691166656696320 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2021-08-03 17:16:57.742 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77691166656696320 [0;39m ==> Parameters: test(String)
2021-08-03 17:16:57.754 TRACE com.cq.wiki.mapper.UserMapper.selectByExample     :143  [32m77691166656696320 [0;39m <==    Columns: id, login_name, name, password
2021-08-03 17:16:57.755 TRACE com.cq.wiki.mapper.UserMapper.selectByExample     :143  [32m77691166656696320 [0;39m <==        Row: 1, test, æµ‹è¯•, e70e2222a9d67c4f2eae107533359aa4
2021-08-03 17:16:57.755 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77691166656696320 [0;39m <==      Total: 1
2021-08-03 17:16:57.759 INFO  com.cq.wiki.util.TokenUtil                        :24   [32m77691166656696320 [0;39m å½“å‰æ—¶é—´çš„æ—¶é—´æˆ³1627982217759
2021-08-03 17:16:57.760 INFO  com.cq.wiki.util.TokenUtil                        :27   [32m77691166656696320 [0;39m è¿‡æœŸæ—¶é—´æˆ³ä¸ºï¼š1628068617759
2021-08-03 17:16:57.760 DEBUG com.cq.wiki.mapper.TokenMapper.insert             :137  [32m77691166656696320 [0;39m ==>  Preparing: insert into token (id, token) values (?, ?)
2021-08-03 17:16:57.761 DEBUG com.cq.wiki.mapper.TokenMapper.insert             :137  [32m77691166656696320 [0;39m ==> Parameters: 77691167482974208(Long), eyJhbGciOiJIUzI1NiJ9.eyJsb2dpbk5hbWUiOiJ0ZXN0IiwibmFtZSI6Iua1i-ivlSIsImlkIjoxLCJleHAiOjE2MjgwNjg2MTcsImlhdCI6MTYyNzk4MjIxN30.daXAwTqZdKDZrnhOfU6CgpiilIwdqIQEWp82neh0tls(String)
2021-08-03 17:16:57.787 DEBUG com.cq.wiki.mapper.TokenMapper.insert             :137  [32m77691166656696320 [0;39m <==    Updates: 1
2021-08-03 17:16:57.787 INFO  com.cq.wiki.service.UserService                   :72   [32m77691166656696320 [0;39m tokenä¸ºï¼šeyJhbGciOiJIUzI1NiJ9.eyJsb2dpbk5hbWUiOiJ0ZXN0IiwibmFtZSI6Iua1i-ivlSIsImlkIjoxLCJleHAiOjE2MjgwNjg2MTcsImlhdCI6MTYyNzk4MjIxN30.daXAwTqZdKDZrnhOfU6CgpiilIwdqIQEWp82neh0tls
2021-08-03 17:16:57.788 DEBUG c.c.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m77691166656696320 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2021-08-03 17:16:57.788 DEBUG c.c.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m77691166656696320 [0;39m ==> Parameters: 
2021-08-03 17:16:57.816 ERROR com.cq.wiki.controller.ControllerExceptionHandler :59   [32m77691166656696320 [0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
### The error may exist in file [D:\IdeaProjects\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
; Column 'view_count' cannot be null; nested exception is java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:87)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:72)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:81)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:91)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:441)
	at com.sun.proxy.$Proxy89.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:288)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy179.genSnapshot(Unknown Source)
	at com.cq.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.cq.wiki.service.UserService.login(UserService.java:73)
	at com.cq.wiki.controller.UserController.login(UserController.java:62)
	at com.cq.wiki.controller.UserController$$FastClassBySpringCGLIB$$8a2de20e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
	at com.cq.wiki.aspect.LogAspect.doAround(LogAspect.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.cq.wiki.controller.UserController$$EnhancerBySpringCGLIB$$5aaf6476.login(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.GeneratedMethodAccessor146.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy155.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy153.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	... 83 common frames omitted
2021-08-03 17:16:57.820 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :199  [32m77691166656696320 [0;39m Resolved [org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
### The error may exist in file [D:\IdeaProjects\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
; Column 'view_count' cannot be null; nested exception is java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null]
2021-08-03 17:18:45.402 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2021-08-03 17:18:45.402 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2021-08-03 17:18:45.402 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-3 - Shutdown initiated...
2021-08-03 17:18:45.402 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-3 - Shutdown completed.
2021-08-03 17:18:45.558 INFO  com.cq.wiki.config.WikiApplication                :55   [32m                  [0;39m Starting WikiApplication on LAPTOP-T0P8U4U3 with PID 9408 (D:\IdeaProjects\wiki\target\classes started by ç¨‹å´Ž in D:\IdeaProjects\wiki)
2021-08-03 17:18:45.558 INFO  com.cq.wiki.config.WikiApplication                :651  [32m                  [0;39m No active profile set, falling back to default profiles: default
2021-08-03 17:18:45.898 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 7770 (http)
2021-08-03 17:18:45.898 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-7770"]
2021-08-03 17:18:45.898 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2021-08-03 17:18:45.898 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.37]
2021-08-03 17:18:45.898 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m An older version [1.2.14] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.23]
2021-08-03 17:18:45.898 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m Loaded Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2021-08-03 17:18:45.898 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2021-08-03 17:18:45.898 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2021-08-03 17:18:45.898 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2021-08-03 17:18:45.914 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2021-08-03 17:18:45.914 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :285  [32m                  [0;39m Root WebApplicationContext: initialization completed in 356 ms
2021-08-03 17:18:46.306 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2021-08-03 17:18:46.337 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2021-08-03 17:18:46.431 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2021-08-03 17:18:46.493 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-7770"]
2021-08-03 17:18:46.509 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 7770 (http) with context path ''
2021-08-03 17:18:46.587 INFO  com.cq.wiki.config.WikiApplication                :61   [32m                  [0;39m Started WikiApplication in 1.049 seconds (JVM running for 883.164)
2021-08-03 17:18:46.587 INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener :63   [32m                  [0;39m Condition evaluation unchanged
2021-08-03 17:18:46.587 INFO  com.cq.wiki.config.WikiApplication                :26   [32m                  [0;39m å¯åŠ¨æˆåŠŸï¼ï¼
2021-08-03 17:18:46.587 INFO  com.cq.wiki.config.WikiApplication                :27   [32m                  [0;39m åœ°å€: 	http://127.0.0.1:7770
2021-08-03 17:18:54.719 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-08-03 17:18:54.720 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2021-08-03 17:18:54.728 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 8 ms
2021-08-03 17:18:54.733 INFO  com.cq.wiki.aspect.LogAspect                      :52   [32m77691658103296000 [0;39m ------------- å¼€å§‹ -------------
2021-08-03 17:18:54.734 INFO  com.cq.wiki.aspect.LogAspect                      :53   [32m77691658103296000 [0;39m è¯·æ±‚åœ°å€: http://localhost:7770/user/login POST
2021-08-03 17:18:54.735 INFO  com.cq.wiki.aspect.LogAspect                      :54   [32m77691658103296000 [0;39m ç±»åæ–¹æ³•: com.cq.wiki.controller.UserController.login
2021-08-03 17:18:54.735 INFO  com.cq.wiki.aspect.LogAspect                      :55   [32m77691658103296000 [0;39m è¿œç¨‹åœ°å€: 0:0:0:0:0:0:0:1
2021-08-03 17:18:54.736 INFO  com.cq.wiki.aspect.LogAspect                      :77   [32m77691658103296000 [0;39m è¯·æ±‚å‚æ•°: [{"loginName":"test"}]
2021-08-03 17:18:54.741 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m77691658103296000 [0;39m HikariPool-4 - Starting...
2021-08-03 17:18:54.897 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m77691658103296000 [0;39m HikariPool-4 - Start completed.
2021-08-03 17:18:54.898 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77691658103296000 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2021-08-03 17:18:54.898 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77691658103296000 [0;39m ==> Parameters: test(String)
2021-08-03 17:18:54.911 TRACE com.cq.wiki.mapper.UserMapper.selectByExample     :143  [32m77691658103296000 [0;39m <==    Columns: id, login_name, name, password
2021-08-03 17:18:54.912 TRACE com.cq.wiki.mapper.UserMapper.selectByExample     :143  [32m77691658103296000 [0;39m <==        Row: 1, test, æµ‹è¯•, e70e2222a9d67c4f2eae107533359aa4
2021-08-03 17:18:54.912 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77691658103296000 [0;39m <==      Total: 1
2021-08-03 17:18:54.917 INFO  com.cq.wiki.util.TokenUtil                        :24   [32m77691658103296000 [0;39m å½“å‰æ—¶é—´çš„æ—¶é—´æˆ³1627982334917
2021-08-03 17:18:54.918 INFO  com.cq.wiki.util.TokenUtil                        :27   [32m77691658103296000 [0;39m è¿‡æœŸæ—¶é—´æˆ³ä¸ºï¼š1628068734917
2021-08-03 17:18:54.918 DEBUG com.cq.wiki.mapper.TokenMapper.insert             :137  [32m77691658103296000 [0;39m ==>  Preparing: insert into token (id, token) values (?, ?)
2021-08-03 17:18:54.919 DEBUG com.cq.wiki.mapper.TokenMapper.insert             :137  [32m77691658103296000 [0;39m ==> Parameters: 77691658879242240(Long), eyJhbGciOiJIUzI1NiJ9.eyJsb2dpbk5hbWUiOiJ0ZXN0IiwibmFtZSI6Iua1i-ivlSIsImlkIjoxLCJleHAiOjE2MjgwNjg3MzQsImlhdCI6MTYyNzk4MjMzNH0.JgM8SiDWFHP0XppHsXBRl58pKxqu_X_27kL0Nh2JIuM(String)
2021-08-03 17:18:54.944 DEBUG com.cq.wiki.mapper.TokenMapper.insert             :137  [32m77691658103296000 [0;39m <==    Updates: 1
2021-08-03 17:18:54.945 INFO  com.cq.wiki.service.UserService                   :72   [32m77691658103296000 [0;39m tokenä¸ºï¼šeyJhbGciOiJIUzI1NiJ9.eyJsb2dpbk5hbWUiOiJ0ZXN0IiwibmFtZSI6Iua1i-ivlSIsImlkIjoxLCJleHAiOjE2MjgwNjg3MzQsImlhdCI6MTYyNzk4MjMzNH0.JgM8SiDWFHP0XppHsXBRl58pKxqu_X_27kL0Nh2JIuM
2021-08-03 17:18:54.947 INFO  com.cq.wiki.aspect.LogAspect                      :89   [32m77691658103296000 [0;39m è¿”å›žç»“æžœ: {"content":{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"eyJhbGciOiJIUzI1NiJ9.eyJsb2dpbk5hbWUiOiJ0ZXN0IiwibmFtZSI6Iua1i-ivlSIsImlkIjoxLCJleHAiOjE2MjgwNjg3MzQsImlhdCI6MTYyNzk4MjMzNH0.JgM8SiDWFHP0XppHsXBRl58pKxqu_X_27kL0Nh2JIuM"},"success":true}
2021-08-03 17:18:54.947 INFO  com.cq.wiki.aspect.LogAspect                      :90   [32m77691658103296000 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š215 ms -------------
2021-08-03 17:19:07.424 INFO  com.cq.wiki.interceptor.LoginInterceptor          :33   [32m                  [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2021-08-03 17:19:07.425 INFO  com.cq.wiki.interceptor.LoginInterceptor          :38   [32m                  [0;39m ä»Žè¯·æ±‚å¤´é‡ŒèŽ·å–tokenï¼šnull
2021-08-03 17:19:07.426 WARN  com.cq.wiki.controller.ControllerExceptionHandler :44   [32m                  [0;39m ä¸šåŠ¡å¼‚å¸¸ï¼šæ— ä»¤ç‰Œï¼Œè¯·é‡æ–°ç™»å½•
2021-08-03 17:19:07.449 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :199  [32m                  [0;39m Resolved [com.cq.wiki.exception.BusinessException: æ— ä»¤ç‰Œï¼Œè¯·é‡æ–°ç™»å½•]
2021-08-03 17:19:18.849 INFO  com.cq.wiki.interceptor.LoginInterceptor          :33   [32m                  [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2021-08-03 17:19:18.849 INFO  com.cq.wiki.interceptor.LoginInterceptor          :38   [32m                  [0;39m ä»Žè¯·æ±‚å¤´é‡ŒèŽ·å–tokenï¼šeyJhbGciOiJIUzI1NiJ9.eyJsb2dpbk5hbWUiOiJ0ZXN0IiwibmFtZSI6Iua1i-ivlSIsImlkIjoxLCJleHAiOjE2MjgwNjg3MzQsImlhdCI6MTYyNzk4MjMzNH0.JgM8SiDWFHP0XppHsXBRl58pKxqu_X_27kL0Nh2JIuM
2021-08-03 17:19:18.873 INFO  com.cq.wiki.interceptor.LoginInterceptor          :60   [32m                  [0;39m tokenï¼šeyJhbGciOiJIUzI1NiJ9.eyJsb2dpbk5hbWUiOiJ0ZXN0IiwibmFtZSI6Iua1i-ivlSIsImlkIjoxLCJleHAiOjE2MjgwNjg3MzQsImlhdCI6MTYyNzk4MjMzNH0.JgM8SiDWFHP0XppHsXBRl58pKxqu_X_27kL0Nh2JIuMéªŒè¯é€šè¿‡
2021-08-03 17:19:18.874 INFO  com.cq.wiki.aspect.LogAspect                      :52   [32m77691759357988864 [0;39m ------------- å¼€å§‹ -------------
2021-08-03 17:19:18.875 INFO  com.cq.wiki.aspect.LogAspect                      :53   [32m77691759357988864 [0;39m è¯·æ±‚åœ°å€: http://localhost:7770/user/logout/eyJhbGciOiJIUzI1NiJ9.eyJsb2dpbk5hbWUiOiJ0ZXN0IiwibmFtZSI6Iua1i-ivlSIsImlkIjoxLCJleHAiOjE2MjgwNjg3MzQsImlhdCI6MTYyNzk4MjMzNH0.JgM8SiDWFHP0XppHsXBRl58pKxqu_X_27kL0Nh2JIuM GET
2021-08-03 17:19:18.875 INFO  com.cq.wiki.aspect.LogAspect                      :54   [32m77691759357988864 [0;39m ç±»åæ–¹æ³•: com.cq.wiki.controller.UserController.logout
2021-08-03 17:19:18.875 INFO  com.cq.wiki.aspect.LogAspect                      :55   [32m77691759357988864 [0;39m è¿œç¨‹åœ°å€: 0:0:0:0:0:0:0:1
2021-08-03 17:19:18.875 INFO  com.cq.wiki.aspect.LogAspect                      :77   [32m77691759357988864 [0;39m è¯·æ±‚å‚æ•°: ["eyJhbGciOiJIUzI1NiJ9.eyJsb2dpbk5hbWUiOiJ0ZXN0IiwibmFtZSI6Iua1i-ivlSIsImlkIjoxLCJleHAiOjE2MjgwNjg3MzQsImlhdCI6MTYyNzk4MjMzNH0.JgM8SiDWFHP0XppHsXBRl58pKxqu_X_27kL0Nh2JIuM"]
2021-08-03 17:19:18.891 DEBUG com.cq.wiki.mapper.TokenMapper.deleteByExample    :137  [32m77691759357988864 [0;39m ==>  Preparing: delete from token WHERE ( token = ? )
2021-08-03 17:19:18.892 DEBUG com.cq.wiki.mapper.TokenMapper.deleteByExample    :137  [32m77691759357988864 [0;39m ==> Parameters: eyJhbGciOiJIUzI1NiJ9.eyJsb2dpbk5hbWUiOiJ0ZXN0IiwibmFtZSI6Iua1i-ivlSIsImlkIjoxLCJleHAiOjE2MjgwNjg3MzQsImlhdCI6MTYyNzk4MjMzNH0.JgM8SiDWFHP0XppHsXBRl58pKxqu_X_27kL0Nh2JIuM(String)
2021-08-03 17:19:18.920 DEBUG com.cq.wiki.mapper.TokenMapper.deleteByExample    :137  [32m77691759357988864 [0;39m <==    Updates: 1
2021-08-03 17:19:18.921 DEBUG c.c.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m77691759357988864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2021-08-03 17:19:18.921 DEBUG c.c.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m77691759357988864 [0;39m ==> Parameters: 
2021-08-03 17:19:18.950 ERROR com.cq.wiki.controller.ControllerExceptionHandler :59   [32m77691759357988864 [0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
### The error may exist in file [D:\IdeaProjects\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
; Column 'view_count' cannot be null; nested exception is java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:87)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:72)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:81)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:91)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:441)
	at com.sun.proxy.$Proxy89.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:288)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy193.genSnapshot(Unknown Source)
	at com.cq.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.cq.wiki.service.UserService.logout(UserService.java:167)
	at com.cq.wiki.controller.UserController.logout(UserController.java:85)
	at com.cq.wiki.controller.UserController$$FastClassBySpringCGLIB$$8a2de20e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
	at com.cq.wiki.aspect.LogAspect.doAround(LogAspect.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.cq.wiki.controller.UserController$$EnhancerBySpringCGLIB$$5aaf6476.logout(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.GeneratedMethodAccessor146.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy155.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy153.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	... 83 common frames omitted
2021-08-03 17:19:18.952 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :199  [32m77691759357988864 [0;39m Resolved [org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
### The error may exist in file [D:\IdeaProjects\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
; Column 'view_count' cannot be null; nested exception is java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null]
2021-08-03 17:20:34.796 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2021-08-03 17:20:34.796 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2021-08-03 17:20:34.796 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-4 - Shutdown initiated...
2021-08-03 17:20:34.796 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-4 - Shutdown completed.
2021-08-03 17:20:34.963 INFO  com.cq.wiki.config.WikiApplication                :55   [32m                  [0;39m Starting WikiApplication on LAPTOP-T0P8U4U3 with PID 9408 (D:\IdeaProjects\wiki\target\classes started by ç¨‹å´Ž in D:\IdeaProjects\wiki)
2021-08-03 17:20:34.963 INFO  com.cq.wiki.config.WikiApplication                :651  [32m                  [0;39m No active profile set, falling back to default profiles: default
2021-08-03 17:20:35.297 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 7770 (http)
2021-08-03 17:20:35.297 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-7770"]
2021-08-03 17:20:35.297 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2021-08-03 17:20:35.297 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.37]
2021-08-03 17:20:35.297 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m An older version [1.2.14] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.23]
2021-08-03 17:20:35.297 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m Loaded Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2021-08-03 17:20:35.297 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2021-08-03 17:20:35.297 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2021-08-03 17:20:35.297 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2021-08-03 17:20:35.297 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2021-08-03 17:20:35.297 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :285  [32m                  [0;39m Root WebApplicationContext: initialization completed in 334 ms
2021-08-03 17:20:35.749 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2021-08-03 17:20:35.781 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2021-08-03 17:20:35.874 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2021-08-03 17:20:35.937 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-7770"]
2021-08-03 17:20:35.937 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 7770 (http) with context path ''
2021-08-03 17:20:35.999 INFO  com.cq.wiki.config.WikiApplication                :61   [32m                  [0;39m Started WikiApplication in 1.067 seconds (JVM running for 992.583)
2021-08-03 17:20:35.999 INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener :63   [32m                  [0;39m Condition evaluation unchanged
2021-08-03 17:20:35.999 INFO  com.cq.wiki.config.WikiApplication                :26   [32m                  [0;39m å¯åŠ¨æˆåŠŸï¼ï¼
2021-08-03 17:20:35.999 INFO  com.cq.wiki.config.WikiApplication                :27   [32m                  [0;39m åœ°å€: 	http://127.0.0.1:7770
2021-08-03 17:20:57.683 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2021-08-03 17:20:57.683 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2021-08-03 17:20:57.823 INFO  com.cq.wiki.config.WikiApplication                :55   [32m                  [0;39m Starting WikiApplication on LAPTOP-T0P8U4U3 with PID 9408 (D:\IdeaProjects\wiki\target\classes started by ç¨‹å´Ž in D:\IdeaProjects\wiki)
2021-08-03 17:20:57.823 INFO  com.cq.wiki.config.WikiApplication                :651  [32m                  [0;39m No active profile set, falling back to default profiles: default
2021-08-03 17:20:58.146 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 7770 (http)
2021-08-03 17:20:58.146 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-7770"]
2021-08-03 17:20:58.146 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2021-08-03 17:20:58.146 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.37]
2021-08-03 17:20:58.146 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m An older version [1.2.14] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.23]
2021-08-03 17:20:58.146 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m Loaded Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2021-08-03 17:20:58.146 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2021-08-03 17:20:58.146 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2021-08-03 17:20:58.146 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2021-08-03 17:20:58.162 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2021-08-03 17:20:58.162 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :285  [32m                  [0;39m Root WebApplicationContext: initialization completed in 339 ms
2021-08-03 17:20:58.538 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2021-08-03 17:20:58.569 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2021-08-03 17:20:58.647 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2021-08-03 17:20:58.694 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-7770"]
2021-08-03 17:20:58.710 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 7770 (http) with context path ''
2021-08-03 17:20:58.772 INFO  com.cq.wiki.config.WikiApplication                :61   [32m                  [0;39m Started WikiApplication in 0.976 seconds (JVM running for 1015.355)
2021-08-03 17:20:58.772 INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener :63   [32m                  [0;39m Condition evaluation unchanged
2021-08-03 17:20:58.772 INFO  com.cq.wiki.config.WikiApplication                :26   [32m                  [0;39m å¯åŠ¨æˆåŠŸï¼ï¼
2021-08-03 17:20:58.772 INFO  com.cq.wiki.config.WikiApplication                :27   [32m                  [0;39m åœ°å€: 	http://127.0.0.1:7770
2021-08-03 17:21:09.336 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2021-08-03 17:21:09.336 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2021-08-03 17:21:09.487 INFO  com.cq.wiki.config.WikiApplication                :55   [32m                  [0;39m Starting WikiApplication on LAPTOP-T0P8U4U3 with PID 9408 (D:\IdeaProjects\wiki\target\classes started by ç¨‹å´Ž in D:\IdeaProjects\wiki)
2021-08-03 17:21:09.487 INFO  com.cq.wiki.config.WikiApplication                :651  [32m                  [0;39m No active profile set, falling back to default profiles: default
2021-08-03 17:21:09.817 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 7770 (http)
2021-08-03 17:21:09.817 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-7770"]
2021-08-03 17:21:09.817 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2021-08-03 17:21:09.817 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.37]
2021-08-03 17:21:09.817 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m An older version [1.2.14] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.23]
2021-08-03 17:21:09.817 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m Loaded Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2021-08-03 17:21:09.817 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2021-08-03 17:21:09.817 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2021-08-03 17:21:09.817 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2021-08-03 17:21:09.817 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2021-08-03 17:21:09.817 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :285  [32m                  [0;39m Root WebApplicationContext: initialization completed in 330 ms
2021-08-03 17:21:10.187 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2021-08-03 17:21:10.218 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2021-08-03 17:21:10.296 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2021-08-03 17:21:10.358 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-7770"]
2021-08-03 17:21:10.358 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 7770 (http) with context path ''
2021-08-03 17:21:10.421 INFO  com.cq.wiki.config.WikiApplication                :61   [32m                  [0;39m Started WikiApplication in 0.951 seconds (JVM running for 1027.002)
2021-08-03 17:21:10.421 INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener :63   [32m                  [0;39m Condition evaluation unchanged
2021-08-03 17:21:10.421 INFO  com.cq.wiki.config.WikiApplication                :26   [32m                  [0;39m å¯åŠ¨æˆåŠŸï¼ï¼
2021-08-03 17:21:10.421 INFO  com.cq.wiki.config.WikiApplication                :27   [32m                  [0;39m åœ°å€: 	http://127.0.0.1:7770
2021-08-03 17:21:14.455 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-08-03 17:21:14.455 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2021-08-03 17:21:14.462 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 7 ms
2021-08-03 17:21:14.465 INFO  com.cq.wiki.aspect.LogAspect                      :52   [32m77692244181782528 [0;39m ------------- å¼€å§‹ -------------
2021-08-03 17:21:14.466 INFO  com.cq.wiki.aspect.LogAspect                      :53   [32m77692244181782528 [0;39m è¯·æ±‚åœ°å€: http://localhost:7770/user/login POST
2021-08-03 17:21:14.466 INFO  com.cq.wiki.aspect.LogAspect                      :54   [32m77692244181782528 [0;39m ç±»åæ–¹æ³•: com.cq.wiki.controller.UserController.login
2021-08-03 17:21:14.466 INFO  com.cq.wiki.aspect.LogAspect                      :55   [32m77692244181782528 [0;39m è¿œç¨‹åœ°å€: 0:0:0:0:0:0:0:1
2021-08-03 17:21:14.468 INFO  com.cq.wiki.aspect.LogAspect                      :77   [32m77692244181782528 [0;39m è¯·æ±‚å‚æ•°: [{"loginName":"test"}]
2021-08-03 17:21:14.472 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m77692244181782528 [0;39m HikariPool-5 - Starting...
2021-08-03 17:21:14.576 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m77692244181782528 [0;39m HikariPool-5 - Start completed.
2021-08-03 17:21:14.577 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77692244181782528 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2021-08-03 17:21:14.577 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77692244181782528 [0;39m ==> Parameters: test(String)
2021-08-03 17:21:14.586 TRACE com.cq.wiki.mapper.UserMapper.selectByExample     :143  [32m77692244181782528 [0;39m <==    Columns: id, login_name, name, password
2021-08-03 17:21:14.587 TRACE com.cq.wiki.mapper.UserMapper.selectByExample     :143  [32m77692244181782528 [0;39m <==        Row: 1, test, æµ‹è¯•, e70e2222a9d67c4f2eae107533359aa4
2021-08-03 17:21:14.587 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77692244181782528 [0;39m <==      Total: 1
2021-08-03 17:21:14.591 INFO  com.cq.wiki.util.TokenUtil                        :24   [32m77692244181782528 [0;39m å½“å‰æ—¶é—´çš„æ—¶é—´æˆ³1627982474591
2021-08-03 17:21:14.591 INFO  com.cq.wiki.util.TokenUtil                        :27   [32m77692244181782528 [0;39m è¿‡æœŸæ—¶é—´æˆ³ä¸ºï¼š1628068874591
2021-08-03 17:21:14.592 DEBUG com.cq.wiki.mapper.TokenMapper.insert             :137  [32m77692244181782528 [0;39m ==>  Preparing: insert into token (id, token) values (?, ?)
2021-08-03 17:21:14.592 DEBUG com.cq.wiki.mapper.TokenMapper.insert             :137  [32m77692244181782528 [0;39m ==> Parameters: 77692244714459136(Long), eyJhbGciOiJIUzI1NiJ9.eyJsb2dpbk5hbWUiOiJ0ZXN0IiwibmFtZSI6Iua1i-ivlSIsImlkIjoxLCJleHAiOjE2MjgwNjg4NzQsImlhdCI6MTYyNzk4MjQ3NH0.xQVqBASFGBEk3ofoorWS3wgqPeyEG9k6pKSlEQ7ZmYc(String)
2021-08-03 17:21:14.614 DEBUG com.cq.wiki.mapper.TokenMapper.insert             :137  [32m77692244181782528 [0;39m <==    Updates: 1
2021-08-03 17:21:14.615 INFO  com.cq.wiki.service.UserService                   :66   [32m77692244181782528 [0;39m tokenä¸ºï¼šeyJhbGciOiJIUzI1NiJ9.eyJsb2dpbk5hbWUiOiJ0ZXN0IiwibmFtZSI6Iua1i-ivlSIsImlkIjoxLCJleHAiOjE2MjgwNjg4NzQsImlhdCI6MTYyNzk4MjQ3NH0.xQVqBASFGBEk3ofoorWS3wgqPeyEG9k6pKSlEQ7ZmYc
2021-08-03 17:21:14.617 INFO  com.cq.wiki.aspect.LogAspect                      :89   [32m77692244181782528 [0;39m è¿”å›žç»“æžœ: {"content":{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"eyJhbGciOiJIUzI1NiJ9.eyJsb2dpbk5hbWUiOiJ0ZXN0IiwibmFtZSI6Iua1i-ivlSIsImlkIjoxLCJleHAiOjE2MjgwNjg4NzQsImlhdCI6MTYyNzk4MjQ3NH0.xQVqBASFGBEk3ofoorWS3wgqPeyEG9k6pKSlEQ7ZmYc"},"success":true}
2021-08-03 17:21:14.617 INFO  com.cq.wiki.aspect.LogAspect                      :90   [32m77692244181782528 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š152 ms -------------
2021-08-03 17:21:33.820 INFO  com.cq.wiki.interceptor.LoginInterceptor          :33   [32m                  [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2021-08-03 17:21:33.820 INFO  com.cq.wiki.interceptor.LoginInterceptor          :38   [32m                  [0;39m ä»Žè¯·æ±‚å¤´é‡ŒèŽ·å–tokenï¼šeyJhbGciOiJIUzI1NiJ9.eyJsb2dpbk5hbWUiOiJ0ZXN0IiwibmFtZSI6Iua1i-ivlSIsImlkIjoxLCJleHAiOjE2MjgwNjg3MzQsImlhdCI6MTYyNzk4MjMzNH0.JgM8SiDWFHP0XppHsXBRl58pKxqu_X_27kL0Nh2JIuM
2021-08-03 17:21:33.821 INFO  com.cq.wiki.interceptor.LoginInterceptor          :60   [32m                  [0;39m tokenï¼šeyJhbGciOiJIUzI1NiJ9.eyJsb2dpbk5hbWUiOiJ0ZXN0IiwibmFtZSI6Iua1i-ivlSIsImlkIjoxLCJleHAiOjE2MjgwNjg3MzQsImlhdCI6MTYyNzk4MjMzNH0.JgM8SiDWFHP0XppHsXBRl58pKxqu_X_27kL0Nh2JIuMéªŒè¯é€šè¿‡
2021-08-03 17:21:33.822 INFO  com.cq.wiki.aspect.LogAspect                      :52   [32m77692325370925056 [0;39m ------------- å¼€å§‹ -------------
2021-08-03 17:21:33.822 INFO  com.cq.wiki.aspect.LogAspect                      :53   [32m77692325370925056 [0;39m è¯·æ±‚åœ°å€: http://localhost:7770/user/logout/eyJhbGciOiJIUzI1NiJ9.eyJsb2dpbk5hbWUiOiJ0ZXN0IiwibmFtZSI6Iua1i-ivlSIsImlkIjoxLCJleHAiOjE2MjgwNjg4NzQsImlhdCI6MTYyNzk4MjQ3NH0.xQVqBASFGBEk3ofoorWS3wgqPeyEG9k6pKSlEQ7ZmYc GET
2021-08-03 17:21:33.822 INFO  com.cq.wiki.aspect.LogAspect                      :54   [32m77692325370925056 [0;39m ç±»åæ–¹æ³•: com.cq.wiki.controller.UserController.logout
2021-08-03 17:21:33.823 INFO  com.cq.wiki.aspect.LogAspect                      :55   [32m77692325370925056 [0;39m è¿œç¨‹åœ°å€: 0:0:0:0:0:0:0:1
2021-08-03 17:21:33.823 INFO  com.cq.wiki.aspect.LogAspect                      :77   [32m77692325370925056 [0;39m è¯·æ±‚å‚æ•°: ["eyJhbGciOiJIUzI1NiJ9.eyJsb2dpbk5hbWUiOiJ0ZXN0IiwibmFtZSI6Iua1i-ivlSIsImlkIjoxLCJleHAiOjE2MjgwNjg4NzQsImlhdCI6MTYyNzk4MjQ3NH0.xQVqBASFGBEk3ofoorWS3wgqPeyEG9k6pKSlEQ7ZmYc"]
2021-08-03 17:21:33.835 DEBUG com.cq.wiki.mapper.TokenMapper.deleteByExample    :137  [32m77692325370925056 [0;39m ==>  Preparing: delete from token WHERE ( token = ? )
2021-08-03 17:21:33.835 DEBUG com.cq.wiki.mapper.TokenMapper.deleteByExample    :137  [32m77692325370925056 [0;39m ==> Parameters: eyJhbGciOiJIUzI1NiJ9.eyJsb2dpbk5hbWUiOiJ0ZXN0IiwibmFtZSI6Iua1i-ivlSIsImlkIjoxLCJleHAiOjE2MjgwNjg4NzQsImlhdCI6MTYyNzk4MjQ3NH0.xQVqBASFGBEk3ofoorWS3wgqPeyEG9k6pKSlEQ7ZmYc(String)
2021-08-03 17:21:33.855 DEBUG com.cq.wiki.mapper.TokenMapper.deleteByExample    :137  [32m77692325370925056 [0;39m <==    Updates: 1
2021-08-03 17:21:33.857 INFO  com.cq.wiki.controller.UserController             :84   [32m77692325370925056 [0;39m ä»Žæ•°æ®åº“é‡Œåˆ é™¤token: eyJhbGciOiJIUzI1NiJ9.eyJsb2dpbk5hbWUiOiJ0ZXN0IiwibmFtZSI6Iua1i-ivlSIsImlkIjoxLCJleHAiOjE2MjgwNjg4NzQsImlhdCI6MTYyNzk4MjQ3NH0.xQVqBASFGBEk3ofoorWS3wgqPeyEG9k6pKSlEQ7ZmYc
2021-08-03 17:21:33.857 INFO  com.cq.wiki.aspect.LogAspect                      :89   [32m77692325370925056 [0;39m è¿”å›žç»“æžœ: {"success":true}
2021-08-03 17:21:33.857 INFO  com.cq.wiki.aspect.LogAspect                      :90   [32m77692325370925056 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š35 ms -------------
2021-08-03 17:21:33.858 INFO  com.cq.wiki.interceptor.LoginInterceptor          :73   [32m77692325370925056 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š38 ms -------------
2021-08-03 17:21:42.927 INFO  com.cq.wiki.aspect.LogAspect                      :52   [32m77692363560062976 [0;39m ------------- å¼€å§‹ -------------
2021-08-03 17:21:42.927 INFO  com.cq.wiki.aspect.LogAspect                      :53   [32m77692363560062976 [0;39m è¯·æ±‚åœ°å€: http://localhost:7770/user/login POST
2021-08-03 17:21:42.927 INFO  com.cq.wiki.aspect.LogAspect                      :54   [32m77692363560062976 [0;39m ç±»åæ–¹æ³•: com.cq.wiki.controller.UserController.login
2021-08-03 17:21:42.927 INFO  com.cq.wiki.aspect.LogAspect                      :55   [32m77692363560062976 [0;39m è¿œç¨‹åœ°å€: 0:0:0:0:0:0:0:1
2021-08-03 17:21:42.929 INFO  com.cq.wiki.aspect.LogAspect                      :77   [32m77692363560062976 [0;39m è¯·æ±‚å‚æ•°: [{"loginName":"test"}]
2021-08-03 17:21:42.938 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77692363560062976 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2021-08-03 17:21:42.939 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77692363560062976 [0;39m ==> Parameters: test(String)
2021-08-03 17:21:42.948 TRACE com.cq.wiki.mapper.UserMapper.selectByExample     :143  [32m77692363560062976 [0;39m <==    Columns: id, login_name, name, password
2021-08-03 17:21:42.949 TRACE com.cq.wiki.mapper.UserMapper.selectByExample     :143  [32m77692363560062976 [0;39m <==        Row: 1, test, æµ‹è¯•, e70e2222a9d67c4f2eae107533359aa4
2021-08-03 17:21:42.949 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77692363560062976 [0;39m <==      Total: 1
2021-08-03 17:21:42.949 INFO  com.cq.wiki.util.TokenUtil                        :24   [32m77692363560062976 [0;39m å½“å‰æ—¶é—´çš„æ—¶é—´æˆ³1627982502949
2021-08-03 17:21:42.949 INFO  com.cq.wiki.util.TokenUtil                        :27   [32m77692363560062976 [0;39m è¿‡æœŸæ—¶é—´æˆ³ä¸ºï¼š1628068902949
2021-08-03 17:21:42.950 DEBUG com.cq.wiki.mapper.TokenMapper.insert             :137  [32m77692363560062976 [0;39m ==>  Preparing: insert into token (id, token) values (?, ?)
2021-08-03 17:21:42.950 DEBUG com.cq.wiki.mapper.TokenMapper.insert             :137  [32m77692363560062976 [0;39m ==> Parameters: 77692363656531968(Long), eyJhbGciOiJIUzI1NiJ9.eyJsb2dpbk5hbWUiOiJ0ZXN0IiwibmFtZSI6Iua1i-ivlSIsImlkIjoxLCJleHAiOjE2MjgwNjg5MDIsImlhdCI6MTYyNzk4MjUwMn0.Rka1j8Bb3wQhGEcsookrcRRTVIEy-cfrBdI3HPr36Ac(String)
2021-08-03 17:21:42.971 DEBUG com.cq.wiki.mapper.TokenMapper.insert             :137  [32m77692363560062976 [0;39m <==    Updates: 1
2021-08-03 17:21:42.973 INFO  com.cq.wiki.service.UserService                   :66   [32m77692363560062976 [0;39m tokenä¸ºï¼šeyJhbGciOiJIUzI1NiJ9.eyJsb2dpbk5hbWUiOiJ0ZXN0IiwibmFtZSI6Iua1i-ivlSIsImlkIjoxLCJleHAiOjE2MjgwNjg5MDIsImlhdCI6MTYyNzk4MjUwMn0.Rka1j8Bb3wQhGEcsookrcRRTVIEy-cfrBdI3HPr36Ac
2021-08-03 17:21:42.973 INFO  com.cq.wiki.aspect.LogAspect                      :89   [32m77692363560062976 [0;39m è¿”å›žç»“æžœ: {"content":{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"eyJhbGciOiJIUzI1NiJ9.eyJsb2dpbk5hbWUiOiJ0ZXN0IiwibmFtZSI6Iua1i-ivlSIsImlkIjoxLCJleHAiOjE2MjgwNjg5MDIsImlhdCI6MTYyNzk4MjUwMn0.Rka1j8Bb3wQhGEcsookrcRRTVIEy-cfrBdI3HPr36Ac"},"success":true}
2021-08-03 17:21:42.973 INFO  com.cq.wiki.aspect.LogAspect                      :90   [32m77692363560062976 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š46 ms -------------
2021-08-03 17:21:46.128 INFO  com.cq.wiki.aspect.LogAspect                      :52   [32m77692376986030080 [0;39m ------------- å¼€å§‹ -------------
2021-08-03 17:21:46.128 INFO  com.cq.wiki.aspect.LogAspect                      :53   [32m77692376986030080 [0;39m è¯·æ±‚åœ°å€: http://localhost:7770/user/login POST
2021-08-03 17:21:46.129 INFO  com.cq.wiki.aspect.LogAspect                      :54   [32m77692376986030080 [0;39m ç±»åæ–¹æ³•: com.cq.wiki.controller.UserController.login
2021-08-03 17:21:46.129 INFO  com.cq.wiki.aspect.LogAspect                      :55   [32m77692376986030080 [0;39m è¿œç¨‹åœ°å€: 0:0:0:0:0:0:0:1
2021-08-03 17:21:46.129 INFO  com.cq.wiki.aspect.LogAspect                      :77   [32m77692376986030080 [0;39m è¯·æ±‚å‚æ•°: [{"loginName":"test"}]
2021-08-03 17:21:46.139 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77692376986030080 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2021-08-03 17:21:46.140 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77692376986030080 [0;39m ==> Parameters: test(String)
2021-08-03 17:21:46.151 TRACE com.cq.wiki.mapper.UserMapper.selectByExample     :143  [32m77692376986030080 [0;39m <==    Columns: id, login_name, name, password
2021-08-03 17:21:46.151 TRACE com.cq.wiki.mapper.UserMapper.selectByExample     :143  [32m77692376986030080 [0;39m <==        Row: 1, test, æµ‹è¯•, e70e2222a9d67c4f2eae107533359aa4
2021-08-03 17:21:46.152 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77692376986030080 [0;39m <==      Total: 1
2021-08-03 17:21:46.152 INFO  com.cq.wiki.util.TokenUtil                        :24   [32m77692376986030080 [0;39m å½“å‰æ—¶é—´çš„æ—¶é—´æˆ³1627982506152
2021-08-03 17:21:46.153 INFO  com.cq.wiki.util.TokenUtil                        :27   [32m77692376986030080 [0;39m è¿‡æœŸæ—¶é—´æˆ³ä¸ºï¼š1628068906152
2021-08-03 17:21:46.153 DEBUG com.cq.wiki.mapper.TokenMapper.insert             :137  [32m77692376986030080 [0;39m ==>  Preparing: insert into token (id, token) values (?, ?)
2021-08-03 17:21:46.153 DEBUG com.cq.wiki.mapper.TokenMapper.insert             :137  [32m77692376986030080 [0;39m ==> Parameters: 77692377090887680(Long), eyJhbGciOiJIUzI1NiJ9.eyJsb2dpbk5hbWUiOiJ0ZXN0IiwibmFtZSI6Iua1i-ivlSIsImlkIjoxLCJleHAiOjE2MjgwNjg5MDYsImlhdCI6MTYyNzk4MjUwNn0.sDirzmyyG-jOFCo88cYcrq8KMGGWhpgClhSWpiyba_w(String)
2021-08-03 17:21:46.174 DEBUG com.cq.wiki.mapper.TokenMapper.insert             :137  [32m77692376986030080 [0;39m <==    Updates: 1
2021-08-03 17:21:46.174 INFO  com.cq.wiki.service.UserService                   :66   [32m77692376986030080 [0;39m tokenä¸ºï¼šeyJhbGciOiJIUzI1NiJ9.eyJsb2dpbk5hbWUiOiJ0ZXN0IiwibmFtZSI6Iua1i-ivlSIsImlkIjoxLCJleHAiOjE2MjgwNjg5MDYsImlhdCI6MTYyNzk4MjUwNn0.sDirzmyyG-jOFCo88cYcrq8KMGGWhpgClhSWpiyba_w
2021-08-03 17:21:46.175 INFO  com.cq.wiki.aspect.LogAspect                      :89   [32m77692376986030080 [0;39m è¿”å›žç»“æžœ: {"content":{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"eyJhbGciOiJIUzI1NiJ9.eyJsb2dpbk5hbWUiOiJ0ZXN0IiwibmFtZSI6Iua1i-ivlSIsImlkIjoxLCJleHAiOjE2MjgwNjg5MDYsImlhdCI6MTYyNzk4MjUwNn0.sDirzmyyG-jOFCo88cYcrq8KMGGWhpgClhSWpiyba_w"},"success":true}
2021-08-03 17:21:46.175 INFO  com.cq.wiki.aspect.LogAspect                      :90   [32m77692376986030080 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š47 ms -------------
2021-08-03 17:21:46.689 INFO  com.cq.wiki.aspect.LogAspect                      :52   [32m77692379339034624 [0;39m ------------- å¼€å§‹ -------------
2021-08-03 17:21:46.690 INFO  com.cq.wiki.aspect.LogAspect                      :53   [32m77692379339034624 [0;39m è¯·æ±‚åœ°å€: http://localhost:7770/user/login POST
2021-08-03 17:21:46.690 INFO  com.cq.wiki.aspect.LogAspect                      :54   [32m77692379339034624 [0;39m ç±»åæ–¹æ³•: com.cq.wiki.controller.UserController.login
2021-08-03 17:21:46.690 INFO  com.cq.wiki.aspect.LogAspect                      :55   [32m77692379339034624 [0;39m è¿œç¨‹åœ°å€: 0:0:0:0:0:0:0:1
2021-08-03 17:21:46.690 INFO  com.cq.wiki.aspect.LogAspect                      :77   [32m77692379339034624 [0;39m è¯·æ±‚å‚æ•°: [{"loginName":"test"}]
2021-08-03 17:21:46.702 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77692379339034624 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2021-08-03 17:21:46.703 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77692379339034624 [0;39m ==> Parameters: test(String)
2021-08-03 17:21:46.712 TRACE com.cq.wiki.mapper.UserMapper.selectByExample     :143  [32m77692379339034624 [0;39m <==    Columns: id, login_name, name, password
2021-08-03 17:21:46.713 TRACE com.cq.wiki.mapper.UserMapper.selectByExample     :143  [32m77692379339034624 [0;39m <==        Row: 1, test, æµ‹è¯•, e70e2222a9d67c4f2eae107533359aa4
2021-08-03 17:21:46.713 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77692379339034624 [0;39m <==      Total: 1
2021-08-03 17:21:46.714 INFO  com.cq.wiki.util.TokenUtil                        :24   [32m77692379339034624 [0;39m å½“å‰æ—¶é—´çš„æ—¶é—´æˆ³1627982506714
2021-08-03 17:21:46.714 INFO  com.cq.wiki.util.TokenUtil                        :27   [32m77692379339034624 [0;39m è¿‡æœŸæ—¶é—´æˆ³ä¸ºï¼š1628068906714
2021-08-03 17:21:46.715 DEBUG com.cq.wiki.mapper.TokenMapper.insert             :137  [32m77692379339034624 [0;39m ==>  Preparing: insert into token (id, token) values (?, ?)
2021-08-03 17:21:46.715 DEBUG com.cq.wiki.mapper.TokenMapper.insert             :137  [32m77692379339034624 [0;39m ==> Parameters: 77692379448086528(Long), eyJhbGciOiJIUzI1NiJ9.eyJsb2dpbk5hbWUiOiJ0ZXN0IiwibmFtZSI6Iua1i-ivlSIsImlkIjoxLCJleHAiOjE2MjgwNjg5MDYsImlhdCI6MTYyNzk4MjUwNn0.sDirzmyyG-jOFCo88cYcrq8KMGGWhpgClhSWpiyba_w(String)
2021-08-03 17:21:46.735 DEBUG com.cq.wiki.mapper.TokenMapper.insert             :137  [32m77692379339034624 [0;39m <==    Updates: 1
2021-08-03 17:21:46.736 INFO  com.cq.wiki.service.UserService                   :66   [32m77692379339034624 [0;39m tokenä¸ºï¼šeyJhbGciOiJIUzI1NiJ9.eyJsb2dpbk5hbWUiOiJ0ZXN0IiwibmFtZSI6Iua1i-ivlSIsImlkIjoxLCJleHAiOjE2MjgwNjg5MDYsImlhdCI6MTYyNzk4MjUwNn0.sDirzmyyG-jOFCo88cYcrq8KMGGWhpgClhSWpiyba_w
2021-08-03 17:21:46.736 INFO  com.cq.wiki.aspect.LogAspect                      :89   [32m77692379339034624 [0;39m è¿”å›žç»“æžœ: {"content":{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"eyJhbGciOiJIUzI1NiJ9.eyJsb2dpbk5hbWUiOiJ0ZXN0IiwibmFtZSI6Iua1i-ivlSIsImlkIjoxLCJleHAiOjE2MjgwNjg5MDYsImlhdCI6MTYyNzk4MjUwNn0.sDirzmyyG-jOFCo88cYcrq8KMGGWhpgClhSWpiyba_w"},"success":true}
2021-08-03 17:21:46.736 INFO  com.cq.wiki.aspect.LogAspect                      :90   [32m77692379339034624 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š47 ms -------------
2021-08-03 17:21:47.490 INFO  com.cq.wiki.aspect.LogAspect                      :52   [32m77692382698672128 [0;39m ------------- å¼€å§‹ -------------
2021-08-03 17:21:47.491 INFO  com.cq.wiki.aspect.LogAspect                      :53   [32m77692382698672128 [0;39m è¯·æ±‚åœ°å€: http://localhost:7770/user/login POST
2021-08-03 17:21:47.491 INFO  com.cq.wiki.aspect.LogAspect                      :54   [32m77692382698672128 [0;39m ç±»åæ–¹æ³•: com.cq.wiki.controller.UserController.login
2021-08-03 17:21:47.491 INFO  com.cq.wiki.aspect.LogAspect                      :55   [32m77692382698672128 [0;39m è¿œç¨‹åœ°å€: 0:0:0:0:0:0:0:1
2021-08-03 17:21:47.491 INFO  com.cq.wiki.aspect.LogAspect                      :77   [32m77692382698672128 [0;39m è¯·æ±‚å‚æ•°: [{"loginName":"test"}]
2021-08-03 17:21:47.502 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77692382698672128 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2021-08-03 17:21:47.503 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77692382698672128 [0;39m ==> Parameters: test(String)
2021-08-03 17:21:47.522 TRACE com.cq.wiki.mapper.UserMapper.selectByExample     :143  [32m77692382698672128 [0;39m <==    Columns: id, login_name, name, password
2021-08-03 17:21:47.522 TRACE com.cq.wiki.mapper.UserMapper.selectByExample     :143  [32m77692382698672128 [0;39m <==        Row: 1, test, æµ‹è¯•, e70e2222a9d67c4f2eae107533359aa4
2021-08-03 17:21:47.522 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77692382698672128 [0;39m <==      Total: 1
2021-08-03 17:21:47.523 INFO  com.cq.wiki.util.TokenUtil                        :24   [32m77692382698672128 [0;39m å½“å‰æ—¶é—´çš„æ—¶é—´æˆ³1627982507523
2021-08-03 17:21:47.523 INFO  com.cq.wiki.util.TokenUtil                        :27   [32m77692382698672128 [0;39m è¿‡æœŸæ—¶é—´æˆ³ä¸ºï¼š1628068907523
2021-08-03 17:21:47.523 DEBUG com.cq.wiki.mapper.TokenMapper.insert             :137  [32m77692382698672128 [0;39m ==>  Preparing: insert into token (id, token) values (?, ?)
2021-08-03 17:21:47.524 DEBUG com.cq.wiki.mapper.TokenMapper.insert             :137  [32m77692382698672128 [0;39m ==> Parameters: 77692382837084160(Long), eyJhbGciOiJIUzI1NiJ9.eyJsb2dpbk5hbWUiOiJ0ZXN0IiwibmFtZSI6Iua1i-ivlSIsImlkIjoxLCJleHAiOjE2MjgwNjg5MDcsImlhdCI6MTYyNzk4MjUwN30.7CSPnM30afER4fWjfKwneH1hK5feufn8J-W2HkJ8izg(String)
2021-08-03 17:21:47.543 DEBUG com.cq.wiki.mapper.TokenMapper.insert             :137  [32m77692382698672128 [0;39m <==    Updates: 1
2021-08-03 17:21:47.543 INFO  com.cq.wiki.service.UserService                   :66   [32m77692382698672128 [0;39m tokenä¸ºï¼šeyJhbGciOiJIUzI1NiJ9.eyJsb2dpbk5hbWUiOiJ0ZXN0IiwibmFtZSI6Iua1i-ivlSIsImlkIjoxLCJleHAiOjE2MjgwNjg5MDcsImlhdCI6MTYyNzk4MjUwN30.7CSPnM30afER4fWjfKwneH1hK5feufn8J-W2HkJ8izg
2021-08-03 17:21:47.545 INFO  com.cq.wiki.aspect.LogAspect                      :89   [32m77692382698672128 [0;39m è¿”å›žç»“æžœ: {"content":{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"eyJhbGciOiJIUzI1NiJ9.eyJsb2dpbk5hbWUiOiJ0ZXN0IiwibmFtZSI6Iua1i-ivlSIsImlkIjoxLCJleHAiOjE2MjgwNjg5MDcsImlhdCI6MTYyNzk4MjUwN30.7CSPnM30afER4fWjfKwneH1hK5feufn8J-W2HkJ8izg"},"success":true}
2021-08-03 17:21:47.545 INFO  com.cq.wiki.aspect.LogAspect                      :90   [32m77692382698672128 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š55 ms -------------
2021-08-03 17:21:48.122 INFO  com.cq.wiki.aspect.LogAspect                      :52   [32m77692385349472256 [0;39m ------------- å¼€å§‹ -------------
2021-08-03 17:21:48.123 INFO  com.cq.wiki.aspect.LogAspect                      :53   [32m77692385349472256 [0;39m è¯·æ±‚åœ°å€: http://localhost:7770/user/login POST
2021-08-03 17:21:48.123 INFO  com.cq.wiki.aspect.LogAspect                      :54   [32m77692385349472256 [0;39m ç±»åæ–¹æ³•: com.cq.wiki.controller.UserController.login
2021-08-03 17:21:48.123 INFO  com.cq.wiki.aspect.LogAspect                      :55   [32m77692385349472256 [0;39m è¿œç¨‹åœ°å€: 0:0:0:0:0:0:0:1
2021-08-03 17:21:48.123 INFO  com.cq.wiki.aspect.LogAspect                      :77   [32m77692385349472256 [0;39m è¯·æ±‚å‚æ•°: [{"loginName":"test"}]
2021-08-03 17:21:48.135 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77692385349472256 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2021-08-03 17:21:48.136 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77692385349472256 [0;39m ==> Parameters: test(String)
2021-08-03 17:21:48.145 TRACE com.cq.wiki.mapper.UserMapper.selectByExample     :143  [32m77692385349472256 [0;39m <==    Columns: id, login_name, name, password
2021-08-03 17:21:48.146 TRACE com.cq.wiki.mapper.UserMapper.selectByExample     :143  [32m77692385349472256 [0;39m <==        Row: 1, test, æµ‹è¯•, e70e2222a9d67c4f2eae107533359aa4
2021-08-03 17:21:48.146 DEBUG com.cq.wiki.mapper.UserMapper.selectByExample     :137  [32m77692385349472256 [0;39m <==      Total: 1
2021-08-03 17:21:48.146 INFO  com.cq.wiki.util.TokenUtil                        :24   [32m77692385349472256 [0;39m å½“å‰æ—¶é—´çš„æ—¶é—´æˆ³1627982508146
2021-08-03 17:21:48.147 INFO  com.cq.wiki.util.TokenUtil                        :27   [32m77692385349472256 [0;39m è¿‡æœŸæ—¶é—´æˆ³ä¸ºï¼š1628068908146
2021-08-03 17:21:48.148 DEBUG com.cq.wiki.mapper.TokenMapper.insert             :137  [32m77692385349472256 [0;39m ==>  Preparing: insert into token (id, token) values (?, ?)
2021-08-03 17:21:48.148 DEBUG com.cq.wiki.mapper.TokenMapper.insert             :137  [32m77692385349472256 [0;39m ==> Parameters: 77692385454329856(Long), eyJhbGciOiJIUzI1NiJ9.eyJsb2dpbk5hbWUiOiJ0ZXN0IiwibmFtZSI6Iua1i-ivlSIsImlkIjoxLCJleHAiOjE2MjgwNjg5MDgsImlhdCI6MTYyNzk4MjUwOH0.EOK_KMFbDA7zurUGKf8m3g93OKRwM80NKPeXaGUi5Cc(String)
2021-08-03 17:21:48.167 DEBUG com.cq.wiki.mapper.TokenMapper.insert             :137  [32m77692385349472256 [0;39m <==    Updates: 1
2021-08-03 17:21:48.167 INFO  com.cq.wiki.service.UserService                   :66   [32m77692385349472256 [0;39m tokenä¸ºï¼šeyJhbGciOiJIUzI1NiJ9.eyJsb2dpbk5hbWUiOiJ0ZXN0IiwibmFtZSI6Iua1i-ivlSIsImlkIjoxLCJleHAiOjE2MjgwNjg5MDgsImlhdCI6MTYyNzk4MjUwOH0.EOK_KMFbDA7zurUGKf8m3g93OKRwM80NKPeXaGUi5Cc
2021-08-03 17:21:48.168 INFO  com.cq.wiki.aspect.LogAspect                      :89   [32m77692385349472256 [0;39m è¿”å›žç»“æžœ: {"content":{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"eyJhbGciOiJIUzI1NiJ9.eyJsb2dpbk5hbWUiOiJ0ZXN0IiwibmFtZSI6Iua1i-ivlSIsImlkIjoxLCJleHAiOjE2MjgwNjg5MDgsImlhdCI6MTYyNzk4MjUwOH0.EOK_KMFbDA7zurUGKf8m3g93OKRwM80NKPeXaGUi5Cc"},"success":true}
2021-08-03 17:21:48.168 INFO  com.cq.wiki.aspect.LogAspect                      :90   [32m77692385349472256 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š46 ms -------------
